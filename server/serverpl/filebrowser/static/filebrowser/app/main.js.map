{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/editor/console/console.component.html","webpack:///./src/app/editor/console/console.component.scss","webpack:///./src/app/editor/console/console.component.ts","webpack:///./src/app/editor/editor.component.html","webpack:///./src/app/editor/editor.component.scss","webpack:///./src/app/editor/editor.component.ts","webpack:///./src/app/editor/editor.config.ts","webpack:///./src/app/editor/editor.service.ts","webpack:///./src/app/editor/editor.utils.ts","webpack:///./src/app/editor/explorer/explorer.component.html","webpack:///./src/app/editor/explorer/explorer.component.scss","webpack:///./src/app/editor/explorer/explorer.component.ts","webpack:///./src/app/editor/footer/footer.component.html","webpack:///./src/app/editor/footer/footer.component.scss","webpack:///./src/app/editor/footer/footer.component.ts","webpack:///./src/app/editor/git/git-service.ts","webpack:///./src/app/editor/git/git.component.html","webpack:///./src/app/editor/git/git.component.scss","webpack:///./src/app/editor/git/git.component.ts","webpack:///./src/app/editor/search/search.component.html","webpack:///./src/app/editor/search/search.component.scss","webpack:///./src/app/editor/search/search.component.ts","webpack:///./src/app/editor/sidebar/sidebar.component.html","webpack:///./src/app/editor/sidebar/sidebar.component.scss","webpack:///./src/app/editor/sidebar/sidebar.component.ts","webpack:///./src/app/models/code-editor.ts","webpack:///./src/app/models/editor.ts","webpack:///./src/app/models/image-editor.ts","webpack:///./src/app/models/preview-editor.ts","webpack:///./src/app/models/resource.ts","webpack:///./src/app/shared/components/confirm/confirm.component.html","webpack:///./src/app/shared/components/confirm/confirm.component.scss","webpack:///./src/app/shared/components/confirm/confirm.component.ts","webpack:///./src/app/shared/components/empty-state/empty-state.component.html","webpack:///./src/app/shared/components/empty-state/empty-state.component.scss","webpack:///./src/app/shared/components/empty-state/empty-state.component.ts","webpack:///./src/app/shared/components/prompt/prompt.component.html","webpack:///./src/app/shared/components/prompt/prompt.component.scss","webpack:///./src/app/shared/components/prompt/prompt.component.ts","webpack:///./src/app/shared/directives/autofocus.directive.ts","webpack:///./src/app/shared/directives/draggable.directive.ts","webpack:///./src/app/shared/directives/droppable.directive.ts","webpack:///./src/app/shared/directives/run-scripts.directive.ts","webpack:///./src/app/shared/pipes/sanitize-html.pipe.ts","webpack:///./src/app/shared/services/logging.service.ts","webpack:///./src/app/shared/services/notification.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { EditorComponent } from './editor/editor.component';\n\nconst routes: Routes = [\n  {path: 'filebrowser', component: EditorComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","module.exports = \"<div class='app-loading' *ngIf='loading'>\\n    <div class=\\\"spinner\\\">\\n        <div class=\\\"dot1\\\"></div>\\n        <div class=\\\"dot2\\\"></div>\\n    </div>\\n</div>\\n<router-outlet></router-outlet>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component } from '@angular/core';\nimport { NavigationEnd, NavigationStart, RouterEvent, Router, NavigationCancel, NavigationError } from '@angular/router';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n\tstyleUrls: ['./app.component.scss'],\n})\nexport class AppComponent {\n\tloading: boolean = true;\n\tconstructor(private router: Router) {\n\t\trouter.events.subscribe((event: RouterEvent) => {\n\t\t  this.navigationInterceptor(event)\n\t\t})\n\t}\n\t // Shows and hides the loading spinner during RouterEvent changes\n\t navigationInterceptor(event: RouterEvent): void {\n\t\tif (event instanceof NavigationStart) {\n\t\t  this.loading = true\n\t\t}\n\t\tif (event instanceof NavigationEnd) {\n\t\t  this.loading = false\n\t\t}\n\t\n\t\t// Set loading state to false in both of the below events to hide the spinner in case a request fails\n\t\tif (event instanceof NavigationCancel) {\n\t\t  this.loading = false\n\t\t}\n\t\tif (event instanceof NavigationError) {\n\t\t  this.loading = false\n\t\t}\n\t}\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { CommonModule} from '@angular/common';\n\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule, HttpClientXsrfModule } from  '@angular/common/http';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatBadgeModule } from '@angular/material/badge';\n\nimport { ToastrModule } from 'ngx-toastr';\n\nimport { AngularSplitModule } from 'angular-split';\nimport { MonacoEditorModule } from 'ngx-monaco-editor';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { EditorComponent } from './editor/editor.component';\nimport { MONACO_CONFIG } from './editor/editor.config';\nimport { ExplorerComponent } from './editor/explorer/explorer.component';\nimport { AutofocusDirective } from './shared/directives/autofocus.directive';\nimport { SanitizeHtmlPipe } from './shared/pipes/sanitize-html.pipe';\nimport { RunScriptsDirective } from './shared/directives/run-scripts.directive';\nimport { DraggableDirective } from './shared/directives/draggable.directive';\nimport { DroppableDirective } from './shared/directives/droppable.directive';\nimport { PromptComponent } from './shared/components/prompt/prompt.component';\nimport { ConfirmComponent } from './shared/components/confirm/confirm.component';\nimport { ConsoleComponent } from './editor/console/console.component';\nimport { FooterComponent } from './editor/footer/footer.component';\nimport { SidebarComponent } from './editor/sidebar/sidebar.component';\nimport { EmptyStateComponent } from './shared/components/empty-state/empty-state.component';\nimport { SearchComponent } from './editor/search/search.component';\nimport { GitComponent } from './editor/git/git.component';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    EditorComponent,\n    ExplorerComponent,\n    DraggableDirective,\n    DroppableDirective,\n    AutofocusDirective,\n    SanitizeHtmlPipe,\n    RunScriptsDirective,\n    PromptComponent,\n    ConfirmComponent,\n    ConsoleComponent,\n    EmptyStateComponent,\n    FooterComponent,\n    SidebarComponent,\n    SearchComponent,\n    GitComponent,\n  ],\n  imports: [\n    BrowserModule,\n    CommonModule,\n    FormsModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    HttpClientXsrfModule.withOptions({\n      cookieName: 'csrftoken',\n      headerName: 'X-CSRFToken'\n    }),\n    \n    ToastrModule.forRoot({\n      //preventDuplicates: true,\n    }),\n    AngularSplitModule.forRoot(),\n    MonacoEditorModule.forRoot(MONACO_CONFIG),\n    MatDialogModule,\n    MatTooltipModule,\n    MatButtonModule,\n    MatProgressSpinnerModule,\n    MatProgressBarModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatRippleModule,\n    DragDropModule,\n    MatMenuModule,\n    MatIconModule,\n    MatListModule,\n    MatExpansionModule,\n    MatChipsModule,\n    MatDividerModule,\n    MatBadgeModule,\n    \n    AppRoutingModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent],\n  entryComponents: [\n    PromptComponent,\n    ConfirmComponent,\n  ],\n})\nexport class AppModule { }\n","module.exports = \"<div class='host'>\\n    <div class='tab-bar' (click)='didTapOpen($event)'>\\n        <h3 class='tab-item'>CONSOLE</h3>\\n        <div class='spacer'></div>\\n        <div class='tab-item' matTooltip='Clear' (click)='didTapClear($event)'>\\n            <i class=\\\"fas fa-trash-alt\\\"></i>\\n        </div>\\n        <div class='tab-item' matTooltip='Clear' (click)='didTapClose($event)'>\\n                <i class=\\\"fas fa-times\\\"></i>\\n        </div>\\n    </div>\\n    <mat-divider></mat-divider>\\n    <app-empty-state *ngIf='empty; else notEmpty' icon='error_outline' title='Nothing to display' subtitle='Informations, Warnings and Errors will be displayed here.'></app-empty-state>\\n    <ng-template #notEmpty>\\n        <ul class='container-log' #container>\\n            <ng-container *ngFor=\\\"let item of items; let last = last; trackBy track\\\">\\n                <li class='log__item log__item--{{item.type}}'>\\n                <ng-container [ngSwitch]=\\\"item.type\\\">\\n                    <mat-icon *ngSwitchCase=\\\"'info'\\\" mat-list-icon class='log__item-icon'>info</mat-icon>\\n                    <mat-icon *ngSwitchCase=\\\"'warning'\\\" mat-list-icon class='log__item-icon'>warning</mat-icon>\\n                    <mat-icon *ngSwitchDefault mat-list-icon class='log__item-icon'>error</mat-icon>\\n                </ng-container>\\n                <p class='log__item-content' [innerHTML]='item.message | sanitizeHtml'></p>\\n                </li>\\n                <mat-divider *ngIf='!last'></mat-divider>\\n            </ng-container>\\n        </ul>\\n    </ng-template>        \\n</div>\"","module.exports = \".host {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%; }\\n\\n.tab-item {\\n  background: transparent; }\\n\\n.container-log {\\n  overflow: auto;\\n  height: calc(100% - 36px);\\n  padding: 0; }\\n\\n.log__item {\\n  position: relative;\\n  list-style-type: none;\\n  list-style-type: none;\\n  display: flex;\\n  align-items: baseline;\\n  padding: 8px; }\\n\\n.log__item .log__item-icon {\\n    position: absolute; }\\n\\n.log__item--info .log__item-icon {\\n  color: #009688; }\\n\\n.log__item--warning .log__item-icon {\\n  color: #FFEB3B; }\\n\\n.log__item--error .log__item-icon {\\n  color: #F44336; }\\n\\n.log__item-content {\\n  padding: 0 32px; }\\n\\n.empty {\\n  width: 200px;\\n  height: 200px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYW1hZG91L0Rlc2t0b3AvUEwvcHJlbWllcmxhbmdhZ2UvY2xpZW50L3NyYy9hcHAvZWRpdG9yL2NvbnNvbGUvY29uc29sZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFrQjtFQUNsQixpQkFBZ0I7RUFDaEIsYUFBWSxFQUNmOztBQUVEO0VBQ0ksd0JBQXVCLEVBQzFCOztBQUVEO0VBQ0ksZUFBYztFQUNkLDBCQUF5QjtFQUN6QixXQUFVLEVBQ2I7O0FBRUQ7RUFDSSxtQkFBa0I7RUFDbEIsc0JBQXFCO0VBQ3JCLHNCQUFxQjtFQUNyQixjQUFhO0VBQ2Isc0JBQXFCO0VBQ3JCLGFBQVksRUFJZjs7QUFWRDtJQVFRLG1CQUFrQixFQUNyQjs7QUFHTDtFQUVRLGVBQWMsRUFDakI7O0FBR0w7RUFFUSxlQUFjLEVBQ2pCOztBQUdMO0VBRVEsZUFBYSxFQUNoQjs7QUFHTDtFQUNJLGdCQUFlLEVBQ2xCOztBQUVEO0VBQ0ksYUFBWTtFQUNaLGNBQWEsRUFDaEIiLCJmaWxlIjoic3JjL2FwcC9lZGl0b3IvY29uc29sZS9jb25zb2xlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhvc3Qge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGhlaWdodDogMTAwJTtcbn1cblxuLnRhYi1pdGVtIHtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuLmNvbnRhaW5lci1sb2cge1xuICAgIG92ZXJmbG93OiBhdXRvO1xuICAgIGhlaWdodDogY2FsYygxMDAlIC0gMzZweCk7XG4gICAgcGFkZGluZzogMDtcbn1cblxuLmxvZ19faXRlbSB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIC5sb2dfX2l0ZW0taWNvbiB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB9XG59XG5cbi5sb2dfX2l0ZW0tLWluZm8ge1xuICAgIC5sb2dfX2l0ZW0taWNvbiB7XG4gICAgICAgIGNvbG9yOiAjMDA5Njg4O1xuICAgIH1cbn1cblxuLmxvZ19faXRlbS0td2FybmluZyB7XG4gICAgLmxvZ19faXRlbS1pY29uIHtcbiAgICAgICAgY29sb3I6ICNGRkVCM0I7XG4gICAgfVxufVxuXG4ubG9nX19pdGVtLS1lcnJvciB7XG4gICAgICAubG9nX19pdGVtLWljb24ge1xuICAgICAgICBjb2xvcjojRjQ0MzM2O1xuICAgIH1cbn1cblxuLmxvZ19faXRlbS1jb250ZW50IHtcbiAgICBwYWRkaW5nOiAwIDMycHg7XG59XG5cbi5lbXB0eSB7XG4gICAgd2lkdGg6IDIwMHB4O1xuICAgIGhlaWdodDogMjAwcHg7O1xufSJdfQ== */\"","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport { LoggingService, LogItem } from 'src/app/shared/services/logging.service';\n\n@Component({\n  selector: 'app-console',\n  templateUrl: './console.component.html',\n  styleUrls: ['./console.component.scss']\n})\nexport class ConsoleComponent implements OnInit {\n\tprivate readonly openedSize = 60;\n\t@ViewChild('container')\n\tcontainer: ElementRef;\n\n\tsize: number = 0;\n\titems: LogItem[] = [];\n\tempty: boolean;\n\n\tconstructor(private logging: LoggingService) {\n\t}\n\n\tngOnInit() {\n\t\tthis.empty = true;\n\t\tthis.logging.addEvent.subscribe(message => {\n\t\t\tthis.empty = false;\n\t\t\tthis.items.push(message);\n\t\t\tthis.open();\n\t\t\tthis.scrollBottom();\n\t\t});\n\t\tthis.logging.openEvent.subscribe(() => {\n\t\t\tthis.open();\n\t\t})\n\t}\n\n\tdidTapClear(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.items = [];\n\t\tthis.empty = true;\n\t\tthis.logging.clear();\n\t}\n\n\tdidTapOpen(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.open();\n\t}\n\n\tdidTapClose(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.size = 5;\n\t}\n\n\ttrack(index: number, _item: LogItem) {\n\t\treturn index;\n\t}\n\n\tdragEnd(data: {gutterNum: number, sizes: Array<number>}) {\n\t\tthis.size = data.sizes[1];\n\t\tif (this.size < 5) {\n\t\t\tthis.size = 5;\n\t\t}\t\n\t}\n\n\tprivate open() {\n\t\tif (this.size < this.openedSize) {\n\t\t\tthis.size = this.openedSize;\n\t\t}\n\t}\n\n\tprivate scrollBottom() {\n\t\tif (this.container) {\n\t\t\tthis.container.nativeElement.scrollTop = this.container.nativeElement.scrollHeight;\n\t\t}\n\t}\n}\n","module.exports = \"<div class='editor-host'>\\n  <div class='editor__container'>\\n    <app-sidebar #sidebar></app-sidebar>\\n    <as-split direction=\\\"horizontal\\\" gutterSize='5' useTransition='true'>\\n        <as-split-area [size]=\\\"sidebar.size\\\">\\n          <app-explorer *ngIf='sidebar.index === 0' [resources]='resources()' [isRoot]='true'></app-explorer>\\n          <app-search *ngIf='sidebar.index === 1' [resources]='resources()'></app-search>\\n          <app-git *ngIf='sidebar.index === 2'></app-git>\\n        </as-split-area>   \\n        <as-split-area [size]=\\\"100 - sidebar.size\\\" class='editor__workspace-container'>\\n            <as-split (dragEnd)='console.dragEnd($event)' direction='vertical' gutterSize='5' useTransition='true' class='editor__workspace'>\\n                <as-split-area [size]='100 - console.size'>\\n                    <as-split *ngIf='editors.length > 0; else notEditor' direction='horizontal' gutterSize='5' useTransition='true' cdkDropListGroup>\\n                        <as-split-area *ngFor='let editor of editors' style='position: relative; overflow: hidden;'>\\n                                <div class='tab-bar border-bottom'>\\n                                    <div class='item-group' cdkDropList [cdkDropListData]=\\\"editor.resources\\\" (cdkDropListDropped)=\\\"editor.drop($event)\\\">\\n                                        <div *ngFor='let resource of editor.resources;trackBy: editor.track'\\n                                            [ngClass]=\\\"{'tab-item': true, active: editor.isSelected(resource), changed: resource.changed}\\\"\\n                                            (click)='didTapOpenResource(resource, editor)' cdkDragAxis='x'cdkDrag>\\n                                            <i class=\\\"tab-icon {{resource.icon}}\\\"></i>\\n                                            <span>{{editor.title(resource)}}</span>\\n                                            <span class='tab-close' (click)='didTapCloseResource(resource, editor, $event)'>\\n                                                &nbsp;{{ resource.changed ? '&bull;' : '&times;' }}\\n                                            </span>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"spacer\\\"></div>    \\n                                    <ng-container *ngFor='let option of editor.options'>\\n                                        <div class='tab-item' matTooltip='{{option.tooltip}}' *ngIf='option.enabled(editor.selection)' (click)='option.action(editor.selection)' >\\n                                            <i class=\\\"{{option.icon}}\\\"></i>\\n                                        </div>\\n                                    </ng-container>\\n                                    <div *ngIf='editor.type===\\\"code\\\"' class='tab-item' matTooltip='More Options' [matMenuTriggerFor]=\\\"editorMenu\\\">\\n                                        <i class=\\\"fas fa-ellipsis-h\\\"></i>\\n                                    </div>\\n                                    <mat-menu #editorMenu=\\\"matMenu\\\">\\n                                        <button mat-menu-item (click)='editor.save(editor.selection)'>Save (Ctrl+S)</button>\\n                                        <button mat-menu-item (click)='editor.saveAll()'>Save All (Ctrl+Alt+S)</button>\\n                                        <button mat-menu-item (click)='editor.closeConfirm(editor.selection)'>Close (Ctrl+W)</button>\\n                                        <button mat-menu-item (click)='editor.closeAllConfirm()'>Close All (Ctrl+Alt+W)</button>\\n                                        <button mat-menu-item (click)='editor.closeSaved()'>Close Saved</button>\\n                                    </mat-menu>\\n                                </div>  \\n                                <ng-container [ngSwitch]=\\\"editor.type\\\">\\n                                    <!-- code editor -->\\n                                    <ng-container *ngSwitchCase=\\\"'code'\\\">\\n                                        <ngx-monaco-diff-editor [hidden]='!editor.diffMode' class='code-editor' [options]=\\\"{}\\\" [originalModel]='{}' [modifiedModel]='{}' (onInit)=\\\"editor.onInitDiff($event)\\\"></ngx-monaco-diff-editor>\\n                                        <ngx-monaco-editor [hidden]='editor.diffMode' class='code-editor' [options]=\\\"{}\\\" [model]='{}' (onInit)=\\\"editor.onInit($event)\\\"></ngx-monaco-editor>\\n                                    </ng-container>\\n                                    <!-- preview editor -->\\n                                    <div *ngSwitchCase=\\\"'preview'\\\" class='preview-editor'>\\n                                        <div class='preview-editor__content' [innerHTML]='editor.content() | sanitizeHtml' runScripts></div>\\n                                    </div>\\n                                    <!-- image editor -->\\n                                    <div *ngSwitchCase=\\\"'image'\\\" class='image-editor'>\\n                                        <img src='{{editor.selection.image}}'  [ngStyle]='{zoom: editor.zoom}' />\\n                                        <div class='code-editor__btn-group'>\\n                                            <div class='code-editor__btn' matTooltip='Zoom In' (click)='editor.zoomIn()'>\\n                                                <i class=\\\"fas fa-plus\\\"></i>\\n                                            </div>\\n                                            <div class='code-editor__btn' matTooltip='Zoom Out' (click)='editor.zoomOut()'>\\n                                                <i class=\\\"fas fa-minus\\\"></i>\\n                                            </div>\\n                                        </div>\\n                                    </div>  \\n                                </ng-container>\\n                        </as-split-area>\\n                    </as-split>\\n                    <ng-template #notEditor>\\n                        <div class='editor-home'>\\n                            <h3> PL Editor </h3>\\n                            <br/>\\n                            <mat-list>\\n                                <h3 matSubheader><i class=\\\"fas fa-plus fa-2x\\\"></i> &nbsp;&nbsp;Shorcuts</h3>\\n                                <mat-list-item>\\n                                    <p matLine> Save: Ctrl+S </p>\\n                                    <p matLine> Save: All Ctrl+Alt+S </p>\\n                                    <p matLine> Close: Ctrl+W </p>\\n                                    <p matLine> Close: All Ctrl+Alt+W </p>\\n                                    <p matLine> Show All Commands: F1 </p>\\n                                </mat-list-item>\\n                                <mat-divider></mat-divider>\\n                                <h3 matSubheader><i class=\\\"far fa-lightbulb fa-2x\\\"></i> &nbsp;&nbsp; Intellisense</h3>\\n                                <mat-list-item>\\n                                    <p matLine> Auto Completion: Ctrl+Space</p>\\n                                </mat-list-item>\\n                            </mat-list>\\n                        </div>\\n                    </ng-template>\\n                </as-split-area>\\n                <as-split-area [(size)]='console.size' style='overflow: hidden;'>\\n                    <app-console #console></app-console>\\n                </as-split-area>\\n            </as-split>\\n        </as-split-area>\\n    </as-split>\\n  </div>\\n  <app-footer></app-footer>\\n</div>\"","module.exports = \".editor-host {\\n  position: relative;\\n  padding: 0;\\n  margin: 0;\\n  display: flex;\\n  flex-flow: column;\\n  height: calc(100vh - 64px);\\n  color: #5a5a5a; }\\n\\n.editor__container {\\n  position: relative;\\n  display: flex;\\n  flex: 1;\\n  overflow: hidden; }\\n\\n.tab-bar {\\n  z-index: 1;\\n  display: flex;\\n  position: relative;\\n  height: 36px;\\n  align-items: center;\\n  overflow-x: auto;\\n  overflow-y: hidden;\\n  background-color: #F5F5F5; }\\n\\n.tab-item {\\n  display: inline-flex;\\n  height: 100%;\\n  align-items: center;\\n  position: relative;\\n  font-size: 14px;\\n  color: #5a5a5a;\\n  font-style: normal;\\n  padding: 0px 12px;\\n  cursor: pointer; }\\n\\n.editor__workspace-container {\\n  position: relative; }\\n\\n.editor__workspace-container .editor__workspace {\\n    height: 100%; }\\n\\n.editor__workspace-container .tab-bar .item-group {\\n    display: flex;\\n    align-items: center;\\n    height: 100%;\\n    width: 100%; }\\n\\n.editor__workspace-container .tab-item {\\n    background-color: #ecedf0; }\\n\\n.editor__workspace-container .tab-item.active {\\n      background-color: #FFF; }\\n\\n.editor__workspace-container .tab-item .tab-icon {\\n      margin-right: 4px; }\\n\\n.editor__workspace-container .tab-item .tab-close {\\n      font-size: 18px; }\\n\\n.editor__workspace-container .tab-item .tab-close:hover {\\n        opacity: 1; }\\n\\n.editor__workspace-container .tab-item.changed .tab-close {\\n      color: red;\\n      font-size: 36px; }\\n\\n.editor__workspace-container .code-editor, .editor__workspace-container .preview-editor, .editor__workspace-container .image-editor {\\n    height: calc(100%); }\\n\\n.editor__workspace-container .image-editor {\\n    background-color: #fff;\\n    background-size: 100% 1.2em;\\n    background-image: linear-gradient(0deg, transparent 79px, #abced4 79px, #abced4 81px, transparent 81px), linear-gradient(#eee 0.05em, transparent 0.05em); }\\n\\n.editor__workspace-container .image-editor img {\\n      margin: auto;\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      bottom: 0;\\n      right: 0; }\\n\\n.editor__workspace-container .image-editor .code-editor__btn-group {\\n      position: absolute;\\n      top: 48px;\\n      right: 12px;\\n      width: 32px; }\\n\\n.editor__workspace-container .image-editor .code-editor__btn {\\n      background-color: #ecedf0;\\n      width: 32px;\\n      height: 32px;\\n      border-radius: 2px 4px;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      cursor: zoom-in;\\n      margin-bottom: 8px; }\\n\\n.editor__workspace-container .preview-editor {\\n    overflow: auto; }\\n\\n.editor__workspace-container .preview-editor .preview-editor__content {\\n      width: 100%;\\n      height: 100%;\\n      overflow: auto;\\n      padding: 0 12px; }\\n\\n.sidebar-panel {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  background-color: #ecedf0;\\n  overflow: hidden; }\\n\\n.sidebar-panel .tab-bar {\\n    font-size: 1rem;\\n    padding: 0 0 0 16px; }\\n\\n.sidebar-panel .sidebar-panel__content {\\n    position: relative;\\n    margin-top: 8px;\\n    overflow-y: auto;\\n    margin: 0;\\n    height: calc(100% - 36px); }\\n\\n.spacer {\\n  flex-grow: 1; }\\n\\n.editor-home {\\n  text-align: center;\\n  padding: 5rem 3rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYW1hZG91L0Rlc2t0b3AvUEwvcHJlbWllcmxhbmdhZ2UvY2xpZW50L3NyYy9hcHAvZWRpdG9yL2VkaXRvci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQUNJLG1CQUFrQjtFQUNsQixXQUFVO0VBQ1YsVUFBUztFQUNULGNBQWE7RUFDYixrQkFBaUI7RUFDakIsMkJBQXVDO0VBQ3ZDLGVBQWMsRUFDakI7O0FBRUQ7RUFDSSxtQkFBa0I7RUFDbEIsY0FBYTtFQUNiLFFBQU87RUFDUCxpQkFBZ0IsRUFDbkI7O0FBRUQ7RUFDSSxXQUFVO0VBQ1YsY0FBYTtFQUNiLG1CQUFrQjtFQUNsQixhQXZCYTtFQXdCYixvQkFBbUI7RUFDbkIsaUJBQWdCO0VBQ2hCLG1CQUFrQjtFQUNsQiwwQkFBeUIsRUFDNUI7O0FBRUQ7RUFDSSxxQkFBb0I7RUFDcEIsYUFBWTtFQUNaLG9CQUFtQjtFQUNuQixtQkFBa0I7RUFDbEIsZ0JBQWU7RUFDZixlQUFjO0VBQ2QsbUJBQWtCO0VBQ2xCLGtCQUFpQjtFQUNqQixnQkFBZSxFQUNsQjs7QUFFRDtFQUNJLG1CQUFrQixFQXlGckI7O0FBMUZEO0lBR1EsYUFBWSxFQUNmOztBQUpMO0lBT1EsY0FBYTtJQUNiLG9CQUFtQjtJQUNuQixhQUFZO0lBQ1osWUFBVyxFQUNkOztBQVhMO0lBY1EsMEJBQXlCLEVBcUI1Qjs7QUFuQ0w7TUFpQlksdUJBQXNCLEVBQ3pCOztBQWxCVDtNQXFCWSxrQkFBaUIsRUFDcEI7O0FBdEJUO01BeUJZLGdCQUFlLEVBSWxCOztBQTdCVDtRQTJCZ0IsV0FBVSxFQUNiOztBQTVCYjtNQWdDWSxXQUFTO01BQ1QsZ0JBQWUsRUFDbEI7O0FBbENUO0lBc0NRLG1CQUFrQixFQUNyQjs7QUF2Q0w7SUEwQ1EsdUJBQXNCO0lBQ3RCLDRCQUEyQjtJQVMzQiwwSkFDOEQsRUEwQmpFOztBQS9FTDtNQXdEWSxhQUFZO01BQ1osbUJBQWtCO01BQ2xCLE9BQU07TUFBRSxRQUFPO01BQUUsVUFBUztNQUFFLFNBQVEsRUFDdkM7O0FBM0RUO01BOERZLG1CQUFrQjtNQUNsQixVQUFTO01BQ1QsWUFBVztNQUNYLFlBQVcsRUFDZDs7QUFsRVQ7TUFxRVksMEJBQXlCO01BQ3pCLFlBQVc7TUFDWCxhQUFZO01BQ1osdUJBQXNCO01BQ3RCLGNBQWE7TUFDYixvQkFBbUI7TUFDbkIsd0JBQXVCO01BQ3ZCLGdCQUFlO01BQ2YsbUJBQWtCLEVBQ3JCOztBQTlFVDtJQWtGUSxlQUFjLEVBT2pCOztBQXpGTDtNQW9GWSxZQUFXO01BQ1gsYUFBWTtNQUNaLGVBQWM7TUFDZCxnQkFBZSxFQUNsQjs7QUFLVDtFQUNJLG1CQUFrQjtFQUNsQixZQUFXO0VBQ1gsYUFBWTtFQUNaLDBCQUF5QjtFQUN6QixpQkFBZ0IsRUFjbkI7O0FBbkJEO0lBUVEsZ0JBQWU7SUFDZixvQkFBbUIsRUFDdEI7O0FBVkw7SUFhUSxtQkFBa0I7SUFDbEIsZ0JBQWU7SUFDZixpQkFBZ0I7SUFDaEIsVUFBUztJQUNULDBCQUF5QixFQUM1Qjs7QUFHTDtFQUNJLGFBQVksRUFDZjs7QUFFRDtFQUNJLG1CQUFrQjtFQUNsQixtQkFBa0IsRUFDckIiLCJmaWxlIjoic3JjL2FwcC9lZGl0b3IvZWRpdG9yLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiJGhlYWRlci1oZWlnaHQ6IDY0cHg7XG4kdGFiLWhlaWdodDogMzZweDtcblxuLmVkaXRvci1ob3N0IHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWZsb3c6IGNvbHVtbjtcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAjeyRoZWFkZXItaGVpZ2h0fSk7XG4gICAgY29sb3I6ICM1YTVhNWE7XG59XG5cbi5lZGl0b3JfX2NvbnRhaW5lciB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleDogMTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4udGFiLWJhciB7XG4gICAgei1pbmRleDogMTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBoZWlnaHQ6ICR0YWItaGVpZ2h0O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICBvdmVyZmxvdy15OiBoaWRkZW47XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0Y1RjVGNTtcbn1cblxuLnRhYi1pdGVtIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGNvbG9yOiAjNWE1YTVhO1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICBwYWRkaW5nOiAwcHggMTJweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5lZGl0b3JfX3dvcmtzcGFjZS1jb250YWluZXIgIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgLmVkaXRvcl9fd29ya3NwYWNlIHtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgIH1cbiAgICBcbiAgICAudGFiLWJhciAgLml0ZW0tZ3JvdXAge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cbiAgICBcbiAgICAudGFiLWl0ZW0ge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWNlZGYwO1xuXG4gICAgICAgICYuYWN0aXZlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkY7XG4gICAgICAgIH1cblxuICAgICAgICAudGFiLWljb24ge1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAudGFiLWNsb3NlIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgICAgICY6aG92ZXIge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAmLmNoYW5nZWQgLnRhYi1jbG9zZSB7XG4gICAgICAgICAgICBjb2xvcjpyZWQ7XG4gICAgICAgICAgICBmb250LXNpemU6IDM2cHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAuY29kZS1lZGl0b3IsIC5wcmV2aWV3LWVkaXRvciwgLmltYWdlLWVkaXRvciB7XG4gICAgICAgIGhlaWdodDogY2FsYygxMDAlKTtcbiAgICB9XG5cbiAgICAuaW1hZ2UtZWRpdG9yIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEuMmVtO1xuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgwZGVnLCB0cmFuc3BhcmVudCA3OXB4LCAjYWJjZWQ0IDc5cHgsICNhYmNlZDQgODFweCwgdHJhbnNwYXJlbnQgODFweCksXG4gICAgICAgICAgICAgICAgICAgICAgICAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgjZWVlIC4wNWVtLCB0cmFuc3BhcmVudCAuMDVlbSk7XG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KDBkZWcsIHRyYW5zcGFyZW50IDc5cHgsICNhYmNlZDQgNzlweCwgI2FiY2VkNCA4MXB4LCB0cmFuc3BhcmVudCA4MXB4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC1tb3otbGluZWFyLWdyYWRpZW50KCNlZWUgLjA1ZW0sIHRyYW5zcGFyZW50IC4wNWVtKTtcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgwZGVnLCB0cmFuc3BhcmVudCA3OXB4LCAjYWJjZWQ0IDc5cHgsICNhYmNlZDQgODFweCwgdHJhbnNwYXJlbnQgODFweCksXG4gICAgICAgICAgICAgICAgICAgICAgICAtbXMtbGluZWFyLWdyYWRpZW50KCNlZWUgLjA1ZW0sIHRyYW5zcGFyZW50IC4wNWVtKTtcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KDBkZWcsIHRyYW5zcGFyZW50IDc5cHgsICNhYmNlZDQgNzlweCwgI2FiY2VkNCA4MXB4LCB0cmFuc3BhcmVudCA4MXB4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC1vLWxpbmVhci1ncmFkaWVudCgjZWVlIC4wNWVtLCB0cmFuc3BhcmVudCAuMDVlbSk7XG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgwZGVnLCB0cmFuc3BhcmVudCA3OXB4LCAjYWJjZWQ0IDc5cHgsICNhYmNlZDQgODFweCwgdHJhbnNwYXJlbnQgODFweCksXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lYXItZ3JhZGllbnQoI2VlZSAuMDVlbSwgdHJhbnNwYXJlbnQgLjA1ZW0pO1xuICAgIFxuICAgICAgICBpbWcge1xuICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgdG9wOiAwOyBsZWZ0OiAwOyBib3R0b206IDA7IHJpZ2h0OiAwO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC5jb2RlLWVkaXRvcl9fYnRuLWdyb3VwIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIHRvcDogNDhweDtcbiAgICAgICAgICAgIHJpZ2h0OiAxMnB4O1xuICAgICAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY29kZS1lZGl0b3JfX2J0biB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWNlZGYwO1xuICAgICAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHggNHB4O1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgIGN1cnNvcjogem9vbS1pbjtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5wcmV2aWV3LWVkaXRvciB7XG4gICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAucHJldmlldy1lZGl0b3JfX2NvbnRlbnQge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgMTJweDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4uc2lkZWJhci1wYW5lbCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWNlZGYwO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgXG4gICAgLnRhYi1iYXIgeyBcbiAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICBwYWRkaW5nOiAwIDAgMCAxNnB4O1xuICAgIH1cbiAgICBcbiAgICAuc2lkZWJhci1wYW5lbF9fY29udGVudCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gMzZweCk7XG4gICAgfVxufVxuXG4uc3BhY2VyIHtcbiAgICBmbGV4LWdyb3c6IDE7XG59XG5cbi5lZGl0b3ItaG9tZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDVyZW0gM3JlbTtcbn0iXX0= */\"","import { Component, OnInit, ViewEncapsulation, ChangeDetectorRef, Injectable, HostListener } from '@angular/core';\nimport { Resource } from '../models/resource';\nimport { EditorService } from './editor.service';\n\nimport { NotificationService } from '../shared/services/notification.service';\nimport { Editor } from '../models/editor';\nimport { CodeEditor } from '../models/code-editor';\nimport { ImageEditor } from '../models/image-editor';\nimport { PreviewEditor } from '../models/preview-editor';\nimport { LoggingService } from '../shared/services/logging.service';\nimport { ConfirmOptions } from '../shared/components/confirm/confirm.component';\nimport { GitService } from './git/git-service';\n\n@Component({\n  selector: 'app-editor',\n  templateUrl: './editor.component.html',\n  styleUrls: ['./editor.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class EditorComponent implements OnInit {\n\teditors: Editor[] = [];\n\n\tconstructor(\n\t\treadonly editorService: EditorService, readonly changeDetector: ChangeDetectorRef, \n\t\treadonly notification: NotificationService, readonly logging: LoggingService,\n\t\treadonly git: GitService\n\t) { }\n\n\tngOnInit() {\n\t\tthis.editorService.refresh();\n\t\tthis.editorService.subscribeRefreshEvent(() => {\n\t\t\twhile (this.editors.length > 0) {\n\t\t\t\tthis.editors[0].closeAll();\n\t\t\t}\n\t\t});\n\t\tthis.editorService.subscribeSelectEvent((resource: Resource) => {\n\t\t\tthis.open(resource);\n\t\t});\n\t\tthis.editorService.subscribeDeleteEvent((resource: Resource) => {\n\t\t\tthis.close(resource);\n\t\t});\n\t}\n\n\tdetectChanges() {\n\t\tthis.changeDetector.detectChanges();\n\t}\n\t\n\tdidTapOpenResource(resource: Resource, editor: Editor) {\n\t\teditor.open(resource);\n\t}\n\n\tdidTapCloseResource(resource: Resource, editor: Editor, event: MouseEvent) {\n\t\tevent.stopPropagation(); \n\t\teditor.closeConfirm(resource);\n\t}\n\n\tdidTapPreviewResource(resource: Resource) {\n\t\tthis.editors = this.editors.filter(e => e.type !== 'preview');\n\t\tthis.editorService.preview(resource).then(() => {\n\t\t\tconst preview = new PreviewEditor(this, resource);\n\t\t\tthis.editors.push(preview);\n\t\t\tpreview.open(resource);\n\t\t}).catch(error => {\n\t\t\tthis.logging.error(error);\n\t\t});\n\t}\n\t\n\tdiff(resource: Resource) {\n\t\treturn this.git.show(resource);\n\t}\n\n\tconfirm(options: ConfirmOptions) {\n\t\treturn this.notification.confirmAsync(options);\n\t}\n\n\topen(resource: Resource) {\n\t\tthis.editorService.open(resource).then((opened) => {\n\t\t\tif (opened) {\n\t\t\t\tconst editor = this.editors.find(e => e.canOpen(resource));\n\t\t\t\tif (editor) {\n\t\t\t\t\teditor.open(resource);\n\t\t\t\t} else {\n\t\t\t\t\tif (resource.image) {\n\t\t\t\t\t\tthis.editors.push(new ImageEditor(this, resource));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.editors.push(new CodeEditor(this, resource));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}).catch(error => {\n\t\t\tthis.logging.error(error);\n\t\t});\n\t}\n\n\topenAsPath(path: string) {\n\t\tthis.open(this.editorService.find(path));\n\t}\n\n\tasync findReference(resource: Resource, path: string) {\n\t\ttry {\n\t\t\treturn await this.editorService.findReference(resource, path);\n\t\t}\n\t\tcatch (error) {\n\t\t\tthis.logging.error('cannot resolve reference ' + path);\n\t\t\treturn undefined;\n\t\t}\n\n\t}\n\n\tclose(resource: Resource) {\n\t\tlet i = 0;\n\t\tlet contains = false;\n\t\twhile (true) {\n\t\t\ti = 0;\n\t\t\tcontains = false;\n\t\t\twhile (i < this.editors.length) {\n\t\t\t\tif (this.editors[i].contains(resource)) {\n\t\t\t\t\tcontains = true;\n\t\t\t\t\tthis.editors[i].close(resource);\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (!contains) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tasync save(resource: Resource) {\n\t\ttry {\n\t\t\tawait this.editorService.save(resource);\n\t\t\tthis.notification.success('resource saved on the server !');\n\t\t\tthis.detectChanges();\n\t\t\treturn true;\n\t\t} catch(error) {\n\t\t\tthis.notification.error(error);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tresources() {\n\t\treturn this.editorService.resources;\n\t}\n\n\trunningTask() {\n\t\treturn this.editorService.runningTask;\n\t}\n\n\n\t@HostListener('window:beforeunload', ['$event'])\n\tbeforeunload($event: any) {\n\t\t\tif (this.editorService.findPredicate(e => e.changed)) {\n\t\t\t\t$event.returnValue =true;\n\t\t\t}\n\t}\n}\n","import { NgxMonacoEditorConfig } from 'ngx-monaco-editor';\n\nexport const PREMIER_LANGAGE = 'premierlangage';\n\nexport const LANGUAGES = {\n    css: 'css',\n    cs: 'csharp',\n    js: 'javascript',\n    ts: 'typescript',\n    html: 'html',\n    md: 'markdown',\n    py: 'python',\n    r: 'r',\n    sql: 'sql',\n    mysql: 'mysql',\n    java: 'java',\n    c: 'cpp',\n    cpp: 'cpp',\n    h: 'cpp',\n    xml: 'xml',\n    bat: 'bat',\n    ini: 'ini',\n    php: 'php',\n    pl: 'premierlangage',\n    pltp: 'premierlangage'\n};\n\nexport const CODE_LENS_PROVIDER = [];\n\nexport const MONACO_CONFIG: NgxMonacoEditorConfig = {\n    baseUrl: '/static/filebrowser/app/assets', // configure base path for monaco editor\n    defaultOptions: { \n      value: '',\n      theme: PREMIER_LANGAGE,\n      language: '',\n      renderWhitespace: 'all',\n      renderControlCharacters: true, // Enable rendering of control characters. Defaults to false.\n      renderLineHighlight: true, // Enable rendering of current line highlight. Defaults to all. \"none\" | \"gutter\" | \"line\" | \"all\"\n      renderIndentGuides: true, // Enable rendering of indent guides. Defaults to true.\n      automaticLayout: true,\n      lineNumbers: \"on\", // on | off | relative | interval | (line: number) -> string\n      roundedSelection: true, // Render the editor selection with rounded borders. Defaults to true.\n      scrollBeyondLastLine: false, // Enable that scrolling can go one screen size after the last line. Defaults to true.\n      scrollbar: {\n          verticalScrollbarSize: 7,\n          horizontalScrollbarSize: 7,\n      },\n    },\n    onMonacoLoad: onMonacoLoad\n};\n  \nexport function onMonacoLoad() {\n    const REFERENCE_PATTERN = /(@|(template|grader|builder|extends|builder|grader)\\s*=)[~\\s\\/]*(\\w+:\\/)?([a-zA-Z0-9_\\./]+)/;\n    const OPEN_PATTERN = /^[a-zA-Z_](\\.?\\w+)*(==)|(%=)/;\n    const CLOSE_PATTERN = /^==\\s*$/;\n    const BUILT_IN_WORDS = {\n      title: \"Titre de l'exercice/feuille d'exercice\",\n      author: \"Auteur de l'exercice\",\n      introduction: \"Prsentation de la feuille d'exercice, le contenu de cette cl est interprt comme du markdown.\",\n      teacher: \"Sur un PLTP, affiche un note visible par les enseignant seulement\",\n      text: \"nonc de l'exercice, le contenu de cette cl est interprt comme du markdown.\",\n      build: \"Cl contenant une fonction build (ancienne syntaxe: utiliser de prfrence before),  utiliser avec le builder /builder/build.py\",\n      before: \"Code python permettant de modifier l'exercice avant sont excution sur le navigateur\",\n      form: \"Formulaire HTML permettant  l'lve de rpondre\",\n      template: \"Dfinie template comme tant la base de ce fichier\",\n    };\n  \n    const monaco = (<any>window).monaco;\n    monaco.languages.register({ id: PREMIER_LANGAGE }); \n      \n    // Register a tokens provider for the language\n    monaco.languages.setMonarchTokensProvider(PREMIER_LANGAGE, {\n        // Set defaultToken to invalid to see what you do not tokenize yet\n        //defaultToken: 'invalid',\n    \n        keywords: [\n        'title', 'author', 'introduction', 'teacher', 'text','build', 'before', 'form','template'\n        ],\n\n        operators: [\n            '=', '+', '@', '%', '==', '+=', '=@', '+=@',\n        ],\n\n        tokenizer: {\n            root: [\n                [\n                    // (?=\\s*(=|\\+|\\@|\\%|(==)|(\\+=)|(=\\@)|(\\+=\\@)))\n                    /^[a-zA-Z_](\\.?\\w+)*/, { \n                        cases: {\n                            '@default': 'key'\n                        } \n                    }\n                ],\n                \n                [/#.+/, 'comment'],\n                [/==/, { token: 'open', next: '@embedded' }],\n                [/%=/, { token: 'open', next: '@predefined', nextEmbedded: 'javascript'}],\n                [/\\{\\{[a-zA-Z_](\\.?\\w+)\\}\\}/, 'key'],\n                // numbers\n                [/\\d*\\.\\d+([eE][\\-+]?\\d+)?/, 'number.float'],\n                [/0[xX][0-9a-fA-F]+/, 'number.hex'],\n                [/\\d+/, 'number'],\n\n                // whitespace\n                { include: '@whitespace' },\n            ],\n\n            embedded: [\n                [/#\\|(\\w+)\\|/, { token: 'string', next: '@predefined', nextEmbedded: '$1' }],\n                [/\\{\\{[a-zA-Z_](\\.?\\w+)\\}\\}/, 'key'],\n                [/^==\\s*$/, { token: 'close', next: '@pop' }],\n            ],\n\n            predefined: [\n                ['(?=\\w+)==', 'string'],\n                [/\\{\\{[a-zA-Z_](\\.?\\w+)\\}\\}/, 'key'],\n                [/^==\\s*$/, { token: 'close', next: '@root', nextEmbedded: '@pop' }],\n            ],\n\n            whitespace: [  \n            [/[ \\t\\r\\n]+/, 'white'],\n            ],\n        },\n    });\n\n    monaco.editor.defineTheme(PREMIER_LANGAGE, {\n        base: 'vs',\n        inherit: true,\n        rules: [\n          { token: 'key', foreground: '1382dd', fontStyle: 'bold' },\n      ]\n    });\n}","import { Injectable, EventEmitter } from '@angular/core';\nimport { HttpClient, HttpParams, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { Resource, resourceInit } from '../models/resource';\nimport { Subscription, Observable, Subject } from 'rxjs';\nimport * as utils from './editor.utils';\nimport { Repo } from '../models/repo';\nimport { GitService } from './git/git-service';\n\n// Rename failed to execute.\n/** Provides services for the editor*/\n@Injectable({\n  providedIn: 'root'\n})\nexport class EditorService {\n\n\tprivate subscription: Subscription;\n\tprivate readonly onRefreshed: Subject<any> = new Subject();\n\tprivate readonly onSelected: Subject<Resource> = new Subject<Resource>();\n\tprivate readonly onDeleted: Subject<Resource> = new Subject<Resource>();\n\tprivate readonly onRunningTask: Subject<boolean> = new Subject<boolean>();\n\tprivate readonly previewFunctions = {};\n\t\n\t/** the resources array */\n\tresources: Resource[] = [];\n\t/** the selected resource inside the editor */\n\tselection: Resource;\n\t/** a value indicating whether a task is running  */\n\trunningTask: boolean\n\t/** the name of the running task */\n\ttaskName: string;\n\n\tconstructor(private http: HttpClient, private git: GitService) {\n\t\tthis.previewFunctions = {\n\t\t\t'pl': this.previewPL,\n\t\t};\n\t}\n\t\n\t/**\n\t * Adds new file resource into 'resource'\n\t * @param resource the resource (must be a directory)\n\t * @returns The added resource\n\t */\n    public addFile(resource: Resource) {\n        return this.add(resource, 'file');\n    }\n\n\t/**\n\t * Adds new directory resource into 'resource'\n\t * @param resource the resource (must be a directory)\n\t * @returns The added resource\n\t */\n    public addFolder(resource: Resource) {\n        return this.add(resource, 'folder');\n\t}\n\t\n\t/**\n\t * Cancels the editition or the creation of the resource depending to it's state.\n\t * - If the resource exists, the function will reset it's name to the name before the edition\n\t * - Else the function will cancel the creation of the resource by removing it to the local cache.\n\t * @param resource the resource (resource.editing must be == true)\n\t */\n\tpublic cancelOrRemove(resource: Resource) {\n\t\tutils.assert(resource.editing, 'resource should be in editing state');\n\t\tutils.assert(utils.canWrite(resource), 'permission denied');\n\t\tutils.assert(!utils.isRoot(resource), 'permission denied');\n\t\tconst path = resource.path;\n\t\tlet success = false;\n\t\tif (resource.nameBeforeEdition) {\n\t\t\tresource.name = resource.nameBeforeEdition;\n\t\t\tsuccess = true;\n\t\t} else {\n\t\t\tresource.path += '/' + resource.name;\n\t\t\tsuccess = this.remove(resource.path);\n\t\t\tif (!success) {\n\t\t\t\tresource.path = path;\n\t\t\t}\n\t\t}\t\n\t\tif (success) {\n\t\t\tdelete resource.editing;                \n\t\t\tdelete resource.parentRef;\n\t\t\tdelete resource.nameBeforeEdition;\n\t\t}\n\t\treturn success;\n\t}\n\n\n\t/**\n\t * Creates or renames the resource if needed.\n\t * @param resource the resource object to creates.\n\t * @returns Promise<boolean> rejected with an error or resolved with true.\n\t */\n    public async createOrRename(resource: Resource) {\n        return new Promise((resolve, reject) => {\n\t\t\tutils.assert(utils.canWrite(resource.parentRef), 'permission denied');\n\t\t\tutils.assert(!resource.parentRef.children.find(it => {\n\t\t\t\treturn it.name === resource.name && !it.editing;\n\t\t\t}), 'resource name already exists !');\n\t\t\tutils.checkName(resource.name);\n\n            let data = { \n                name:'create_resource', \n                path: resource.path + '/' + resource.name, \n                content: resource.content,\n                type: resource.type\n\t\t\t};\n\t\t\t\n            if (resource.nameBeforeEdition) {\n\t\t\t\tdata.name = \"rename_resource\";\n                data.path = resource.path;\n                data['target'] = resource.name;\n                delete data.content;\n\t\t\t\tdelete data.type;\n\t\t\t}\n\t\t\tthis.emitTaskEvent(true, 'create');\n\t\t\tconst headers = new HttpHeaders().set('Content-Type', 'application/json;charset=UTF-8'); \n\t\t\tthis.http.post('filebrowser/option', data, { headers: headers }).toPromise().then(response => {\n\t\t\t\tresource.path = response['path'];\n                resource.icon = response['icon'];\n                this.sort(resource.parentRef.children);\n                delete resource.editing;\n                delete resource.parentRef;\n\t\t\t\tdelete resource.nameBeforeEdition;\n\t\t\t\tthis.git.refresh();\n\t\t\t\tthis.emitTaskEvent(false, 'create');\n                resolve(true);   \n\t\t\t}).catch(error => {\n\t\t\t\tthis.emitTaskEvent(false, 'create');\n\t\t\t\treject(error);\n\t\t\t});\n        });\n    }\n\t\n\t/**\n\t * Deletes the resource object from the server.\n\t * @param resource the resource object to deletes.\n\t * @returns Promise<boolean> resolved with true or false and rejected with an error\n\t */\n    public async delete(resource: Resource) {\n\t\ttry {\n\t\t\tutils.requireNonNull(resource, 'resource');\n\t\t\tutils.assert(utils.canWrite(resource), 'permission denied');\n\t\t\tutils.assert(!utils.isRoot(resource), 'permission denied');\n\t\t\tthis.emitTaskEvent(true, \"delete\");\t\t\n\t\t\tconst headers = new HttpHeaders().set('Content-Type', 'application/json;charset=UTF-8'); \n\t\t\tawait this.http.post('filebrowser/option', { \n\t\t\t\tname:'delete_resource', \n\t\t\t\tpath: resource.path\n\t\t\t}, { headers: headers }).toPromise();\n\n\t\t\tif (this.remove(resource.path)) {\n\t\t\t\tthis.emitDeleteEvent(resource);\n\t\t\t}\n\t\t\tthis.emitTaskEvent(false, 'delete');\n\t\t\tthis.git.refresh();\n\t\t\treturn false;\n\t\t} catch(error) {\n\t\t\tthis.emitTaskEvent(false, 'delete');\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\t/**\n\t * Emits editor refresh event.\n\t */\n\tpublic emitRefreshEvent() {\n\t\tthis.onRefreshed.next();\n\t}\n\n\t/**\n\t * Emits resource selection event.\n\t * @param resource the resource\n\t */\n\tpublic emitSelectEvent(resource: Resource) {\n\t\tthis.onSelected.next(resource);\n\t}\n\t\n\t/**\n\t * Emits resource deletion event.\n\t * @param resource the resource\n\t */\n\tpublic emitDeleteEvent(resource: Resource) {\n\t\tthis.onDeleted.next(resource);\n\t}\n\n\t/**\n\t * Finds the resource with the given path.\n\t * @param path the path of the resource to search\n\t * @returns the resource or undefined\n\t */\n\tpublic find(path: string): Resource {\n        path = path.trim();\n        return this.findPredicate(item => item.path === path);\n    }\n\n\t/**\n\t * Finds the resource which meets the given predicate.\n\t * @param predicate the predicate to test\n\t * @returns the resource or undefined\n\t */\n    public findPredicate(predicate: (resource: Resource) => boolean) {\n        function recursive(resource: Resource) {\n\t\t\tif (!resource)\n\t\t\t\treturn undefined;\n            if (predicate(resource)) {\n                return resource;\n            }\n            if (resource.children) {\n                for (const root of resource.children) {\n                    let result = recursive(root);\n                    if (result) {\n                        return result;\n                    }\n                }\n            }\n            return undefined;\n        }\n\n        for (const root of this.resources) {\n            const resource = recursive(root);\n            if (resource) {\n                return resource;\n            }\n        }\n        return undefined;\n\t}\n\t\n\t/**\n\t * Finds the resources which meets the given predicate.\n\t * @param predicate the predicate to test\n\t * @returns the resources array or undefined\n\t */\n    public findAll(predicate: (resource: Resource) => boolean): Resource[] {\n        const result = [];\n        this.emitTaskEvent(true, 'search');\n        function recursive(resource: Resource) {\n\t\t\tif (!resource)\n\t\t\t\treturn undefined;\n            if (predicate(resource)) {\n                result.push(resource);\n            }\n            if (resource.children) {\n                for (const root of resource.children) {\n                    let result = recursive(root);\n                    if (result) {\n                        return result;\n                    }\n                }\n            }\n            return undefined;\n        }\n\n        for (const root of this.resources) {\n           recursive(root);\n        }\n        this.emitTaskEvent(false, 'search');\n        return result;\n    }\n\t\n\tpublic async loadPLTP(resource: Resource) {\n\t\tlet response: string;\n\t\ttry {\n\t\t\tthis.emitTaskEvent(true, 'load pltp');\n\t\t\tconst params = new HttpParams().set('name', 'load_pltp').set('path', resource.path);\n\t\t\tresponse = await this.http.get('/filebrowser/option', { params: params , responseType: 'text'}).toPromise();\n\t\t\tthis.emitTaskEvent(false, 'load pltp');\n\t\t} catch(error) {\n\t\t\tthis.emitTaskEvent(false, 'load pltp');\n\t\t\tthrow error;\n\t\t}\n\t\treturn response;\n\t}\n\n\tpublic async reloadPLTP(resource: Resource, activityId: number) { \n\t\tlet response: Object;\n\t\ttry {\n\t\t\tthis.emitTaskEvent(true, 'reload pltp');\t\n\t\t\tconst data = {\n\t\t\t\tname: \"reload_pltp\",\n\t\t\t\tpath: resource.path,\n\t\t\t\tactivity_id: activityId,\n\t\t\t};\n\t\t\tconst headers = new HttpHeaders().set('Content-Type', 'application/json;charset=UTF-8'); \n\t\t\tresponse = await this.http.post('filebrowser/option', data, { headers: headers, responseType: 'text' }).toPromise();\n\t\t\tthis.emitTaskEvent(false, 'reload pltp');\n\t\t} catch(error) {\n\t\t\tthis.emitTaskEvent(false, 'reload pltp');\n\t\t\tthrow error;\n\t\t}\n\t\treturn response;\n\t}\n\n\t/**\n\t * Moves the file|resource 'src' to the resource 'dst'.\n\t * @param src the source file or resource\n\t * @param dst the destination resource\n\t * @returns Promise<boolean> rejected with a string error message or resolved with true\n\t */\n    public async move(src: Resource | File, dst: Resource) {\n\t\ttry {\n\t\t\tthis.emitTaskEvent(true, 'move');\n\t\t\tutils.requireNonNull(src, 'src');\n\t\t\tutils.requireNonNull(dst, 'dst');\t\n\t\t\tutils.assert(utils.canWrite(dst), 'permission denied');\n\t\t\tutils.assert(utils.isFolder(dst), 'destination must be a directory');\n\n\t\t\tlet resource: Resource;\n\t\t\tif ('size' in src) { // File type contains size property\n\t\t\t\tresource = await this.moveFile(src as unknown as File, dst);\n\t\t\t} else {\n\t\t\t\tresource = await this.moveResource(src as unknown as Resource, dst);\n\t\t\t}\n\t\t\tthis.sort(dst.children);\n\t\t\tdst.expanded = true;\n\t\t\tthis.selection = resource;\n\t\t\tthis.emitTaskEvent(false, 'move');\n\t\t\tthis.git.refresh();\n\t\t\treturn true;\t\n\t\t} catch(error) {\n\t\t\tthis.emitTaskEvent(false, 'move');\n\t\t\tthrow error;\n\t\t}\n    }\n\n\t/**\n\t * Saves the content of the resource on the server\n\t * @param resource the resource\n\t * @returns Promise<boolean> resolved with true and rejected with an error\n\t */\n    public async save(resource: Resource) {\n\t\ttry {\n\t\t\tthis.emitTaskEvent(true, 'save');\n\t\t\tutils.requireNonNull(resource, 'resource');\n\t\t\tconst headers = new HttpHeaders().set('Content-Type', 'application/json;charset=UTF-8'); \n\t\t\tawait this.http.post('filebrowser/option',   { \n\t\t\t\tname: 'update_resource', path: resource.path, content: resource.content \n\t\t\t}, {headers: headers}).toPromise();\n\t\t\tthis.emitTaskEvent(false, 'save');\n\t\t\tthis.git.refresh();\n\t\t\treturn true;\n\t\t} catch(error) {\n\t\t\tthis.emitTaskEvent(false, 'save');\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\tpublic async findReference(resource: Resource, path: string) {\n\t\ttry {\n\t\t\tthis.emitTaskEvent(true, 'resolve path');\n\t\t\tconst params = new HttpParams()\n\t\t\t\t\t\t\t.set('name', 'resolve_path')\n\t\t\t\t\t\t\t.set('path', resource.path)\n\t\t\t\t\t\t\t.set('target', path);\n\t\t\tconst response = await this.http.get('filebrowser/option',{ params: params, responseType: 'text' }).toPromise();\n\t\t\tthis.emitTaskEvent(false, 'resolve path');\n\t\t\treturn this.find(response);\n\t\t} catch(error) {\n\t\t\tthis.emitTaskEvent(false, 'resolve path');\n\t\t\tthrow error;\n\t\t}\n\t} \n\n\tpublic async compilePL(resource: Resource) {\n\t\tlet response: Object;\n\t\ttry {\n\t\t\tthis.emitTaskEvent(true, 'compilation');\n\t\t\tutils.requireNonNull(resource, 'resource');\n\t\t\tutils.assert(utils.isPl(resource), 'pl resource is expected');\n\t\t\tconst data = {\n\t\t\t\t'name': 'compile_pl',\n\t\t\t\t'path': resource.path,\n\t\t\t};\n\t\t\tconst headers = new HttpHeaders().set('Content-Type', 'application/json;charset=UTF-8');\n\t\t\tresponse = await this.http.post('filebrowser/option', data, { headers: headers }).toPromise();\n\t\t} catch(error) {\n\t\t\tthis.emitTaskEvent(false, 'compilation');\n\t\t\tthrow error;\n\t\t}\n\t\tthis.emitTaskEvent(false, 'compilation');\n\t\treturn response;\n\t} \n\t\n\t/**\n\t * Opens the content of the resource on the server (if not already opened)\n\t * @param resource the resource\n\t * @returns Promise<boolean> resolved with true or false and rejected with an error\n\t */\n\tpublic async open(resource: Resource) {\n\t\treturn new Promise<boolean>((resolve, reject) => {\n\t\t\tthis.selection = resource;\n\t\t\tif (resource.type === 'folder') {\n\t\t\t\tresource.expanded = !resource.expanded;\n\t\t\t\tresolve(false);\n\t\t\t} else {\n\t\t\t\tthis.emitTaskEvent(true, 'open');\n\t\t\t\tif ((resource.content || resource.image) && !resource.dirty) {\n\t\t\t\t\tthis.emitTaskEvent(false, 'open');\n\t\t\t\t\tresolve(true);\n\t\t\t\t} else {\n\t\t\t\t\tconst params = new HttpParams().set('name', 'get_resource').set('path', resource.path);\n\t\t\t\t\tthis.http.get('filebrowser/option', { params: params }).toPromise().then(response => {\n\t\t\t\t\t\tthis.emitTaskEvent(false, 'open');\n\t\t\t\t\t\tresource.content = response['content'];\n\t\t\t\t\t\tresource.image = response['image'];\n\t\t\t\t\t\tresource.changed = false;\n\t\t\t\t\t\tresource.dirty = false;\n\t\t\t\t\t\tresourceInit(resource);\n\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t}).catch((error: HttpErrorResponse) => {\n\t\t\t\t\t\tthis.emitTaskEvent(false, 'open');\n\t\t\t\t\t\tif (error.error && error.error.includes(\"codec can't decode\")) {\n\t\t\t\t\t\t\treject(resource.name + ' is not displayed in the editor because it is either binary or uses an unsupported text encoding.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Gets a value indicating whether the given resource is the selected one inside the explorer\n\t * @param resource the resource\n\t * @returns true if the resource is the selected one false otherwise\n\t */\n\tpublic isSelection(resource: Resource) {\n\t\treturn this.selection && resource.path === this.selection.path;\n\t}\n\t\n\t/**\n\t * Loads the preview content of the resource.\n\t * @param resource the resource to preview.\n\t * @returns Promise<boolean> resolved with true or false and rejected with an error\n\t */\n\tpublic preview(resource:  Resource) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.emitTaskEvent(true, 'preview');\n\t\t\tconst ext = utils.extensionOf(resource);\n\t\t\tconst action = this.previewFunctions[ext];\n\t\t\taction(resource, this).then(response => {\n\t\t\t\tthis.emitTaskEvent(false, 'preview');\n\t\t\t\tresource.state.preview = response.preview;\n\t\t\t\tresolve(true);\n\t\t\t}).catch((error: any) => {\n\t\t\t\tthis.emitTaskEvent(false, 'preview');\n\t\t\t\treject(error);\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic subscribeRefreshEvent(completion: () => void) {\n\t\tthis.onRefreshed.subscribe(completion);\n\t}\n\n\tpublic subscribeSelectEvent(completion: (resource: Resource) => void) {\n\t\tthis.onSelected.subscribe(completion);\n\t}\n\n\tpublic subscribeDeleteEvent(completion: (resource: Resource) => void) {\n\t\tthis.onDeleted.subscribe(completion);\n\t}\n\t\n\tpublic subscribeTaskEvent(completion: (running: boolean) => void) {\n\t\tthis.onRunningTask.subscribe(completion);\n\t}\n\n\t/**\n\t * Reloads the resources from the server.\n\t * @returns Promise<boolean> resolved with true or rejected with an error.\n\t */\n\tpublic async refresh() {\n\t\treturn new Promise<Boolean>((resolve, reject) => {\n\t\t\tthis.emitTaskEvent(true, 'refresh');\n\t\t\tthis.emitRefreshEvent();\n\t\t\tif (this.subscription)\n\t\t\tthis.subscription.unsubscribe();\n\t\t\tconst params = new HttpParams().set('name', 'get_resources');\n\t\t\tthis.subscription = this.http.get<Resource[]>('/filebrowser/option', { params: params })\n\t\t\t.subscribe(response => {\n\t\t\t\tthis.resources = response;\n\t\t\t\tif (this.resources.length > 0) {\n\t\t\t\t\tthis.resources[0].expanded = true;\n\t\t\t\t\tthis.sort(this.resources);\n\t\t\t\t}\n\t\t\t\tthis.git.refresh();\n\t\t\t\tthis.emitTaskEvent(false, 'refresh');\n\t\t\t\tresolve(true);\n\t\t\t}, \n\t\t\terror => {\n\t\t\t\tthis.emitTaskEvent(false, 'refresh');\n\t\t\t\treject(error);\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate add(resource: Resource, type: string) {\n\t\tutils.assert(resource.type === 'folder', 'resource.type must be folder');\n        resource.children = resource.children || [];\n\t\tutils.assert(resource.children.every(e => !e.editing), 'cannot edit multiple resources');\n        resource.expanded = true;\n        const newResource: Resource = {\n            ...resource,\n            editing: true,\n            name: '',\n            type: type,\n            icon: 'fas fa-' + type,\n            children: [],            \n            parent: resource.path,\n            parentRef: resource,\n        };\n        resource.children.push(newResource);\n        return newResource;\n    }\n\n\tprivate emitTaskEvent(running: boolean, taskName: string) {\n\t\tthis.runningTask = running;\n\t\tthis.taskName = taskName;\n\t\tthis.onRunningTask.next(running);\n\t}\n\n\tprivate async moveResource(src: Resource, dst: Resource) {\n\t\tutils.requireNonNull(src.path, 'src.path');\n\t\tutils.requireNonNull(dst.path, 'dst.path');\n\t\tutils.assert(src.path != dst.path, 'cannot move the resource to the same path')\n\t\tutils.assert(!utils.isRoot(src), 'cannot move a root resource')\n\n\t\tconst headers = new HttpHeaders().set('Content-Type', 'application/json;charset=UTF-8'); \n\t\tconst response = await this.http.post('filebrowser/option',  {\n\t\t\tname: 'move_resource',\n\t\t\tpath: src.path,\n\t\t\tdst: dst.path\n\t\t}, { headers: headers }).toPromise();\n\t\t\n\t\tconst srcLastParent = this.find(src.parent);\n\t\tsrcLastParent.children = srcLastParent.children.filter(item => item.path !== src.path);\n\t\tsrc.parent = dst.path;\n\t\tsrc.path = response['path'];\n\t\tdst.children.push(src);\n\t\treturn src;\n\t}\n\n\tprivate async moveFile(src: File, dst: Resource) {\n\t\tutils.requireNonNull(src.name, 'src.name');\n\t\tutils.requireNonNull(dst.path, 'dst.path');\n\t\tutils.checkName(src.name);\n\t\tconst formData = new FormData();\n\t\tformData.append('file', src, src.name);\n\t\tformData.append('path', dst.path);\n\t\tconst headers  = new HttpHeaders();\n\t\theaders.set('Content-Type', null);\n\t\theaders.set('Accept', \"multipart/form-data\");\n\t\tawait this.http.post('/filebrowser/upload_resource', formData, { headers: headers }).toPromise();\n\t\tconst newRes = this.addFile(dst);\n\t\tnewRes.path += '/' + src.name;\n\t\tnewRes.name = src.name;\n\t\tdelete newRes.editing;\n\t\treturn newRes;\n\t}\n\n\tprivate previewPL(resource: Resource, service: EditorService) {\n\t\tconst data = {\n\t\t\t'name': 'preview_pl',\n\t\t\t'path': resource.path,\n\t\t\t'content': resource.content,\n\t\t\t'requested_action': 'preview'\n\t\t};\n\t\tconst headers = new HttpHeaders().set('Content-Type', 'application/json;charset=UTF-8');\n\t\treturn service.http.post('filebrowser/option', data, { headers: headers }).toPromise();\n\t}\n\n\tprivate remove(path: string) {\n\t\tfunction remove_recursive(items: Resource[]): boolean {\n\t\t\tif (items) {\n\t\t\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\t\t\tif (items[i].path === path) {\n\t\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (remove_recursive(items[i].children)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn remove_recursive(this.resources);\n\t}\n\n\tprivate sort(resources: Resource[]) {\n\t\tif (resources) {\n\t\t\tresources.sort((a: Resource, b: Resource) => {\n\t\t\t\tif (a.type === b.type) { \n\t\t\t\t  return a.name < b.name ? -1 : 1;\n\t\t\t\t}\n\t\t\t\treturn a.type === 'folder' ? -1 : 1;\n\t\t\t});\n\t\t\tfor (const item of resources) {\n\t\t\t\tthis.sort(item.children);\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Resource } from '../models/resource';\nimport { LANGUAGES } from './editor.config';\n\nexport const DISALLOWED_CHAR = ['/', ' ', '\\t', '\\n', ';', '#', '+', '&']\n\nexport function canRead(item: Resource) {\n    return item && item.read;\n}\n\nexport function canWrite(item: Resource) {\n    return item &&  item.write;\n}\n\nexport function readonly(item: Resource) {\n    return !canWrite(item);\n}\n\nexport function isFolder(item: Resource) {\n    return item &&  item.type == 'folder';\n}\n\nexport function isFile(item: Resource) {\n    return item &&  item.type == 'file';\n}\n\nexport function isRoot(item: Resource) {\n    return item &&  item.name === 'home' || item.name === 'home/' \n    || item.name === 'lib' || item.name === 'lib/';\n}\n\nexport function isPl(item: Resource) {\n    return item &&  item.name.endsWith('.pl');\n}\n\nexport function isMarkdown(item: Resource) {\n    return item &&  item.name.endsWith('.md');\n}\n\nexport function isPltp(item: Resource) {\n    return item &&  item.name.endsWith('.pltp');\n}\n\nexport function canBePreviewed(item: Resource) {\n    return item && isPl(item);\n}\n\nexport function isHome(item: Resource) {\n    return item && item.name === 'home';\n}\n\nexport function isNotRoot(item: Resource) {\n    return !isRoot(item);\n}\n\nexport function isRepo(item: Resource) {\n    return item && item.repo;\n}\n\nexport function canAddFile(item: Resource) {\n    return canWrite(item) && isFolder(item);\n}\nexport function canCopy(item: Resource) {\n    return canRead(item) && isNotRoot(item);\n}\nexport function canAddFolder(item: Resource) {\n    return canWrite(item) && isFolder(item);\n}\n\nexport function canBeRenamed(item: Resource) {\n    return canWrite(item) && !isRoot(item);\n}\n\nexport function canBeDeleted(item: Resource) {\n    return canWrite(item) && isNotRoot(item);\n}\n\nexport function canBeTested(item: Resource) {\n    return canRead(item) && isPl(item);\n}\n\nexport function canBeLoaded(item: Resource) {\n    return canWrite(item) && isPltp(item);\n}\n\nexport function canBeReloaded(item: Resource) {\n    return canWrite(item) && isPltp(item);\n}\n\nexport function extensionOf(resource: Resource) {\n    const dotIndex = resource.name.lastIndexOf('.');\n    return resource.name.substring(dotIndex + 1);\n}\n\nexport function language(resource: Resource) {\n    const extension = extensionOf(resource);\n    if (extension in LANGUAGES)\n        return LANGUAGES[extension];\n    return '';\n}\n\nexport function canBeUsedAsFileName(name: string) {\n    return name && DISALLOWED_CHAR.every(e => !name.includes(e));\n}\n\nexport function checkName(name: string) {\n    if (!canBeUsedAsFileName(name)) {\n        throw new Error(name + ' cannot sould not contains any of ' + DISALLOWED_CHAR);\n    }\n}\n\nexport function requireNonNull(param: any, name: string) {\n    if  (!param && typeof(param) !== 'boolean') {\n        throw new TypeError(name + ' param is required !');\n    }\n}\n\nexport function assert(condition: any, message: string) {\n    if  (!condition) {\n        throw new Error(message);\n    }\n}\n\nexport function basename(path: string) {\n    if (!path)\n        return path;\n    const array = path.split('/');\n    return array[array.length - 1];\n}","module.exports = \" <div class=\\\"sidebar-panel\\\" *ngIf='isRoot; else tree'>\\n    <div class='tab-bar border-bottom'>\\n        <span>EXPLORER</span>       \\n        <div class=\\\"spacer\\\"></div>\\n        <div class='tab-item' (click)='didTapRefresh()' matTooltip='Refresh'>\\n            <i class=\\\"fas fa-sync\\\"></i>\\n        </div>\\n        <mat-progress-spinner mode='indeterminate' color='warn' strokeWidth='2' diameter='24' *ngIf='runningTask()'></mat-progress-spinner>\\n    </div>\\n    <div class=\\\"sidebar-panel__content\\\">\\n        <app-explorer [resources]='resources' [isRoot]='false'></app-explorer>\\n    </div>\\n</div>\\n\\n<ng-template #tree>\\n<ul class='tree'>\\n    <li *ngFor='let resource of resources; trackBy:trackByFn' id='resource.path'>\\n        <div *ngIf='resource.editing; else notEditing' class='tree__item editing'>\\n            <span>\\n                <i class=\\\"{{resource.icon}}\\\"></i>&nbsp;\\n                <input appAutofocus type='text' placeholder='Press Enter to create ESC to cancel...' \\n                    [(ngModel)]='resource.name' (keydown)='didEditingChanged(resource, $event)' (blur)='didEditingChanged(resource, $event)'/>\\n            </span>\\n        </div>    \\n        <ng-template #notEditing>\\n            <div id='{{resource.path}}' [ngClass]='{tree__item: true, selected: isSelection(resource)}' \\n                 appDraggable appDroppable [dragCondition]='draggable(resource)' [dropCondition]='droppable(resource)'\\n                 (handleDrop)='didDropData($event)' (click)='didTapOnResource(resource, $event)'>\\n                <span class='tree__item-label'>\\n                    <i class=\\\"{{icon(resource)}}\\\"></i>&nbsp;\\n                    <span>{{resource.name}}</span>\\n                </span>\\n                <span class='tree__item-option-group'>\\n                    <ng-container *ngFor='let option of options'>\\n                        <span class='tree__item-option' *ngIf='option.enabled(resource)' matTooltip='{{option.label}}' (click)='option.action(resource, $event)'>\\n                            <i class=\\\"{{option.icon}}\\\"></i>&nbsp;\\n                        </span>\\n                    </ng-container>\\n                </span>\\n                <div class='overlay'></div>\\n            </div>\\n        </ng-template>\\n        <app-explorer *ngIf='resource.expanded' [resources]=\\\"resource.children\\\" [isRoot]='false'></app-explorer>\\n    </li>\\n</ul>        \\n</ng-template>\\n\"","module.exports = \".tree {\\n  margin: 0;\\n  padding: 0;\\n  list-style-type: none; }\\n  .tree li {\\n    padding-left: 16px; }\\n  .tree .tree__item {\\n    position: relative;\\n    height: 32px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    cursor: pointer; }\\n  .tree .tree__item .overlay {\\n      display: none;\\n      pointer-events: none;\\n      position: absolute;\\n      left: auto !important;\\n      right: 0;\\n      top: 0;\\n      width: 100vw;\\n      height: 100%; }\\n  .tree .tree__item .tree__item-option-group {\\n      visibility: hidden;\\n      font-size: 14px;\\n      margin-right: 4px; }\\n  .tree .tree__item .tree__item-option-group .tree__item-option {\\n        cursor: pointer; }\\n  .tree .tree__item .tree__item-label {\\n      display: inline-flex;\\n      align-items: center;\\n      min-width: 100px; }\\n  .tree .tree__item:hover .overlay, .tree .tree__item.selected .overlay {\\n      display: block;\\n      background: rgba(66, 66, 66, 0.1); }\\n  .tree .tree__item:hover .tree__item-option-group {\\n      visibility: visible; }\\n  .tree .tree__item.editing span {\\n      display: flex;\\n      align-items: center;\\n      width: 100%;\\n      margin-right: 4px; }\\n  .tree input {\\n    width: 90%;\\n    margin: 4px 8px;\\n    padding: 0.1rem 0.3rem;\\n    font-size: 1rem;\\n    line-height: 1.5;\\n    color: #495057;\\n    background-color: #fff;\\n    background-clip: padding-box;\\n    border: 1px solid #ced4da;\\n    border-radius: 0.15rem;\\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out; }\\n  .tree input:focus {\\n      color: #495057;\\n      background-color: #fff;\\n      border-color: #80bdff;\\n      outline: 0;\\n      box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25); }\\n  .dnd-drag {\\n  opacity: 0.5; }\\n  .dnd-over {\\n  box-shadow: inset 0px 0px 0px 2px #CCC;\\n  background: rgba(66, 66, 66, 0.1); }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYW1hZG91L0Rlc2t0b3AvUEwvcHJlbWllcmxhbmdhZ2UvY2xpZW50L3NyYy9hcHAvZWRpdG9yL2V4cGxvcmVyL2V4cGxvcmVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksVUFBUztFQUNULFdBQVU7RUFDVixzQkFBcUIsRUFzRnhCO0VBekZEO0lBTVEsbUJBQWtCLEVBQ3JCO0VBUEw7SUFVUSxtQkFBa0I7SUFDbEIsYUFBWTtJQUNaLGNBQWE7SUFDYixvQkFBbUI7SUFDbkIsK0JBQThCO0lBQzlCLGdCQUFlLEVBbURsQjtFQWxFTDtNQWtCWSxjQUFhO01BQ2IscUJBQW9CO01BQ3BCLG1CQUFrQjtNQUNsQixzQkFBcUI7TUFDckIsU0FBUTtNQUNSLE9BQU07TUFDTixhQUFZO01BQ1osYUFBWSxFQUNmO0VBMUJUO01BNkJZLG1CQUFrQjtNQUNsQixnQkFBZTtNQUNmLGtCQUFpQixFQUlwQjtFQW5DVDtRQWlDZ0IsZ0JBQWUsRUFDbEI7RUFsQ2I7TUFzQ1kscUJBQW9CO01BQ3BCLG9CQUFtQjtNQUNuQixpQkFBZ0IsRUFDbkI7RUF6Q1Q7TUE2Q2dCLGVBQWM7TUFDZCxrQ0FBOEIsRUFDakM7RUEvQ2I7TUFvRGdCLG9CQUFtQixFQUN0QjtFQXJEYjtNQTJEZ0IsY0FBYTtNQUNiLG9CQUFtQjtNQUNuQixZQUFXO01BQ1gsa0JBQWlCLEVBQ3BCO0VBL0RiO0lBcUVRLFdBQVU7SUFDVixnQkFBZTtJQUNmLHVCQUFzQjtJQUN0QixnQkFBZTtJQUNmLGlCQUFnQjtJQUNoQixlQUFjO0lBQ2QsdUJBQXNCO0lBQ3RCLDZCQUE0QjtJQUM1QiwwQkFBeUI7SUFDekIsdUJBQXNCO0lBQ3RCLHlFQUF3RSxFQVEzRTtFQXZGTDtNQWlGWSxlQUFjO01BQ2QsdUJBQXNCO01BQ3RCLHNCQUFxQjtNQUNyQixXQUFVO01BQ1YsaURBQWdELEVBQ25EO0VBS1Q7RUFDSSxhQUFZLEVBQ2Y7RUFFRDtFQUNJLHVDQUFzQztFQUN0QyxrQ0FBOEIsRUFDakMiLCJmaWxlIjoic3JjL2FwcC9lZGl0b3IvZXhwbG9yZXIvZXhwbG9yZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudHJlZSB7IFxuICAgIG1hcmdpbjogMDsgXG4gICAgcGFkZGluZzogMDsgXG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lOyBcbiAgICBcbiAgICBsaSB7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMTZweDsgXG4gICAgfVxuXG4gICAgLnRyZWVfX2l0ZW0ge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7IFxuICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIFxuICAgICAgICAub3ZlcmxheSB7IFxuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOyBcbiAgICAgICAgICAgIGxlZnQ6IGF1dG8gIWltcG9ydGFudDtcbiAgICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICAgICAgdG9wOiAwOyBcbiAgICAgICAgICAgIHdpZHRoOiAxMDB2dzsgXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLnRyZWVfX2l0ZW0tb3B0aW9uLWdyb3VwIHtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjsgIFxuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gICAgICAgICAgICAudHJlZV9faXRlbS1vcHRpb24ge1xuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAudHJlZV9faXRlbS1sYWJlbCB7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDEwMHB4O1xuICAgICAgICB9XG4gICAgXG4gICAgICAgICY6aG92ZXIsICYuc2VsZWN0ZWQge1xuICAgICAgICAgICAgLm92ZXJsYXkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOyBcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDY2LDY2LDY2LDAuMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgICAudHJlZV9faXRlbS1vcHRpb24tZ3JvdXAge1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgJi5lZGl0aW5nIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3BhbiAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDRweDsgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGlucHV0IHtcbiAgICAgICAgd2lkdGg6IDkwJTtcbiAgICAgICAgbWFyZ2luOiA0cHggOHB4O1xuICAgICAgICBwYWRkaW5nOiAwLjFyZW0gMC4zcmVtO1xuICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgICAgIGNvbG9yOiAjNDk1MDU3O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgICBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2VkNGRhO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAwLjE1cmVtO1xuICAgICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJveC1zaGFkb3cgMC4xNXMgZWFzZS1pbi1vdXQ7XG4gICAgICAgICY6Zm9jdXMge1xuICAgICAgICAgICAgY29sb3I6ICM0OTUwNTc7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjODBiZGZmO1xuICAgICAgICAgICAgb3V0bGluZTogMDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDAsIDEyMywgMjU1LCAwLjI1KTtcbiAgICAgICAgfSAgICAgICAgXG4gICAgfVxuICAgIFxufVxuXG4uZG5kLWRyYWcge1xuICAgIG9wYWNpdHk6IDAuNTtcbn1cblxuLmRuZC1vdmVyIHtcbiAgICBib3gtc2hhZG93OiBpbnNldCAwcHggMHB4IDBweCAycHggI0NDQztcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDY2LDY2LDY2LDAuMSk7XG59Il19 */\"","import { Component, ViewEncapsulation, Input } from '@angular/core';\nimport { EditorService } from '../editor.service';\nimport { Resource } from 'src/app/models/resource';\nimport { NotificationService } from 'src/app/shared/services/notification.service';\nimport { PrompOptions } from 'src/app/shared/components/prompt/prompt.component';\nimport { DropData as DropDropData } from 'src/app/shared/directives/droppable.directive';\nimport { LoggingService } from 'src/app/shared/services/logging.service';\nimport * as utils from '../editor.utils';\n\n@Component({\n  selector: 'app-explorer',\n  templateUrl: './explorer.component.html',\n  styleUrls: ['./explorer.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ExplorerComponent {\n\tprivate skipNextBlurEvent: boolean;\n\t\n\t/** the tree resources */\n\t@Input()\n\tresources: Resource[];\n\t\n\t/** shows header element if sets to true */\n\t@Input()\n\tisRoot: boolean;\n\t\n\t/** the dynamic options of the resources */\n\treadonly options = [];\n\n  \tconstructor(private service: EditorService, private notification: NotificationService, private logging: LoggingService) {\n\t\tconst self = this;\n\t\tthis.options = [\n\t\t\t{ icon: 'fas fa-check', label: 'Test', enabled: utils.canBeTested, action: (r: Resource, e: MouseEvent) => self.optionTest(r, e) },\n\t\t\t{ icon: 'fas fa-play', label: 'Load', enabled: utils.canBeLoaded, action: (r: Resource, e: MouseEvent) => self.optionLoad(r,e ) },\n\t\t\t{ icon: 'fas fa-sync', label: 'Reload', enabled: utils.canBeReloaded, action: (r: Resource, e: MouseEvent) => self.optionReload(r,e ) },\n\t\t\t{ icon: 'far fa-file', label: 'New File', enabled: utils.canAddFile, action: (r: Resource, e: MouseEvent) => self.optionAddFile(r, e)},\n\t\t\t{ icon: 'far fa-folder', label: 'New Folder', enabled: utils.canAddFile, action: (r: Resource, e: MouseEvent) => self.optionFolder(r,e )},\n\t\t\t{ icon: 'far fa-edit', label: 'Rename', enabled: utils.canBeRenamed, action: (r: Resource, e: MouseEvent) => self.optionRename(r,e ) },\n\t\t\t{ icon: 'far fa-trash-alt', label: 'Delete', enabled: utils.canBeDeleted, action: (r: Resource, e: MouseEvent) => self.optionDelete(r,e ) },\n\t\t\t{ icon: 'fas fa-lock', label: 'Read Only', enabled: utils.readonly, action: function () { } },\n\t\t];\n\t}\n\n\t/** Handles refresh button click by retrieving resources from the server. */\n\tdidTapRefresh() {\n\t\tthis.notification.confirmAsync({ title: 'You will lose any unsaved changes after this. Are you sure ?'}).then(confirmed => {\n\t\t\tif (confirmed) {\n\t\t\t\tthis.service.refresh().catch(error => {\n\t\t\t\t\tthis.logging.error(error);\n\t\t\t\t});\n\t\t\t}\n\t\t});\t\t\t\n\t}\n\n\t/**\n\t * Gets a value indicating whether the resource is draggrable\n\t * @param resource the resource object.\n\t * \t@returns true only if the resource is not a root folder.\n\t */\n\tdraggable(resource: Resource) {\n\t\treturn !utils.isRoot(resource) && resource.write;\n\t}\n\t\n\t/**\n\t * Gets a value indicating a resource is droppable into the given 'resource'\n\t * @param resource the resource object.\n\t * \t@returns true only if the resource is folder.\n\t */\n\tdroppable(resource: Resource) {\n\t\treturn utils.isFolder(resource) && resource.write;\n\t}\n\t\n\t/** \n\t * Handles drag and drop event by asking a confirmation to the user then :\n\t * - If 'data.file' exists, the function will saved the file on the server to the directory 'data.dst'.\n\t * - If data.src exists, the function will move the resource 'data.src' to the directory 'data.dst'.\n\t * @param data the data shared using the dragNdrop move. \n\t */\n\tdidDropData(data: DropDropData) {\n\t\tconst srcPath = data.src || data.file.name;\n\t\tconst dstPath = data.dst;\n\t\tconst srcName = utils.basename(srcPath);\n\t\tconst src = this.service.find(srcPath);\n\t\tconst dst = this.service.find(dstPath);  \n\t\tif (src && src.parent === data.dst)\n\t\t\treturn;\n\t\tconst options = {\n\t\t\ttitle: \"Are you sure you want to move '\" + srcName +\"'?\",\n\t\t}\n\t\tthis.notification.confirmAsync(options).then(confirmed => {\n\t\t\tif (confirmed) {\n\t\t\t\tthis.service.move(src || data.file , dst).catch(error => {\n\t\t\t\t\tthis.logging.error(error);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Handles focus and keyboard event while the resource is in edition mode.\n\t * - If the event is a escapse keydown event, the function will cancel the edition of the resource\n\t * - If the event is a blur of enter keydown event, the function will rename or creates the resource on the server.\n\t * @param resource the resource object.\n\t * @param event KeyboardEvent or Focus event.\n\t */\n\tdidEditingChanged(resource: Resource, event: any) {\n\t\tif (event.type == 'blur' && this.skipNextBlurEvent) {\n\t\t\tthis.skipNextBlurEvent = false;\n\t\t\treturn;\n\t\t}\n\t\tif (event.keyCode === 27) { // escape key\n\t\t\tthis.skipNextBlurEvent = true;\n\t\t\tif (resource.editing) {\n\t\t\t\tthis.service.cancelOrRemove(resource);\n\t\t\t} else {\n\t\t\t\tthis.optionDelete(resource, event);\n\t\t\t}\n\t\t} else if(event.type == 'blur' || event.keyCode === 13) { // focus losed or enter key\n\t\t\tthis.skipNextBlurEvent = true;\n\t\t\tthis.service.createOrRename(resource).then(() => {\n\t\t\t\tthis.didTapOnResource(resource, event);\n\t\t\t}).catch(error => {\n\t\t\t\tthis.logging.error(error);\n\t\t\t});\n\t\t} \n\t}\n\n\t/**\n\t * Emits resource selection event.\n\t * @param resource the resource object.\n\t * @param event the mouse event.\n\t */\n\tdidTapOnResource(resource: Resource, event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tthis.service.emitSelectEvent(resource);\n\t}\n\n\t/** \n\t * Gets the font awesome class representing the resource\n\t * \n\t * @returns \n\t * - fas fa-folder | fas fa-folder-open If the resource is folder\n\t * - resource.icon otherwise. \n\t */\n\ticon(resource: Resource) {\n\t\tif (utils.isFolder(resource)) {\n\t\t\treturn resource.expanded ? 'fas fa-folder-open' : 'fas fa-folder';\n\t\t}\n\t\treturn resource.icon;\n\t}\n\t\n\t/**\n\t * Gets a value indicating whether the resource is the selected one in the explorer.\n\t * @param resource the resource object.\n\t */\n\tisSelection(resource: Resource) {\n\t\treturn this.service.isSelection(resource);\n\t}\n\n\t/**\n\t * Gets a value indicating whether a task is running in the editor.\n\t */\n\trunningTask() {\n\t\treturn this.service.runningTask;\n\t}\n\t\n\t/** Used in the html template with *ngFor to keep track of the resource */\n\ttrackByFn(_index: number, item: Resource) {\n\t\treturn item.path;\n\t}\n\n\n\tprivate optionAddFile(resource: Resource, event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tthis.service.addFile(resource);\n\t}\n\n\tprivate optionFolder(resource: Resource, event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tthis.service.addFolder(resource);\n\t} \n\n\tprivate optionDelete(resource: Resource, event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tthis.notification.confirmAsync({\n\t\t\ttitle: \"Are you sure you want to delete '\" + resource.name +\"'?\",\n\t\t}).then(confirmed => {\n\t\t\tif (confirmed) {\n\t\t\t\tthis.service.delete(resource).catch(error => {\n\t\t\t\t\tthis.logging.error(error);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tprivate optionLoad(resource: Resource, event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tthis.service.loadPLTP(resource).then(response => {\n\t\t\tthis.logging.info(response);\n\t\t}).catch(error => {\n\t\t\tthis.logging.error(error);\n\t\t});\n\t}\n\n\tprivate optionReload(resource: Resource, event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tconst options: PrompOptions = {\n\t\t\ttitle: 'Reload Activity',\n\t\t\tmessage: 'ID of the activity which should be reloaded with this PLTP. It should be the ID inside the URL used on your LTI consumer (Moodle, Blackboard, ...), and not the URL in your address bar after clicking on said URL.<br><br><strong>Caution: The order in which PL are included should stay the same, as well as the total number of PL. May not work if the PLTP used to reload activity is too different than the original one',\n\t\t\tfields: [\n\t\t\t\t{ type: 'number', placeholder: 'Activity ID', required: true, value: 0 }\n\t\t\t]\n\t\t};\n\t\tthis.notification.promptAsync(options).then((data) => {\n\t\t\tif (data.fields) {\n\t\t\t\tthis.service.reloadPLTP(resource, data.fields[0].value).then((response => {\n\t\t\t\t\tthis.logging.info(response);\n\t\t\t\t})).catch(error => {\n\t\t\t\t\tthis.logging.error(error);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate optionRename(resource: Resource, event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tresource.editing = true;\n\t\tresource.nameBeforeEdition = resource.name;\n\t\tresource.parentRef = this.service.find(resource.parent);\n\t}\n\n\tprivate optionTest(resource: Resource, event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\twindow.open('/filebrowser/option?name=test_pl&path=' + resource.path, \"_blank\");\n\t}\n\n}\n","module.exports = \"<ng-container *ngIf=\\\"inRepo()\\\">\\n    <i class='repo-icon {{repoHost()}} fa-1x'></i> \\n    <a class='repo-url' href=\\\"{{repoUrl()}} \\\">{{repoUrl()}}</a>\\n    <i class='repo-branch'>{{repoBranch()}}</i>\\n</ng-container>\\n<div class=\\\"spacer\\\"></div>\\n<ng-container *ngIf='runningTask()'>\\n    <mat-progress-spinner mode='indeterminate' color='warn' strokeWidth='2' diameter='24'></mat-progress-spinner> \\n    <span class='task-name'>{{taskName()}} task in progress...</span>\\n</ng-container>\"","module.exports = \":host {\\n  display: flex;\\n  align-content: center;\\n  align-items: center;\\n  height: 32px;\\n  background-color: #343A40;\\n  color: white;\\n  font-size: 12px;\\n  padding: 0 8px; }\\n\\n.repo-icon {\\n  margin: 0 8px; }\\n\\n.repo-url {\\n  margin-right: 8px; }\\n\\n.task-name {\\n  margin: 0 4px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYW1hZG91L0Rlc2t0b3AvUEwvcHJlbWllcmxhbmdhZ2UvY2xpZW50L3NyYy9hcHAvZWRpdG9yL2Zvb3Rlci9mb290ZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2Isc0JBQXFCO0VBQ3JCLG9CQUFtQjtFQUNuQixhQUFZO0VBQ1osMEJBQXdCO0VBQ3hCLGFBQVk7RUFDWixnQkFBZTtFQUNmLGVBQWMsRUFDakI7O0FBRUQ7RUFDSSxjQUFhLEVBQ2hCOztBQUVEO0VBQ0ksa0JBQWlCLEVBQ3BCOztBQUVEO0VBQ0ksY0FBYSxFQUNoQiIsImZpbGUiOiJzcmMvYXBwL2VkaXRvci9mb290ZXIvZm9vdGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAgIGRpc3BsYXk6IGZsZXg7ICAgIFxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGhlaWdodDogMzJweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiMzNDNBNDA7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBwYWRkaW5nOiAwIDhweDtcbn1cblxuLnJlcG8taWNvbiB7XG4gICAgbWFyZ2luOiAwIDhweDtcbn1cblxuLnJlcG8tdXJsIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbn1cblxuLnRhc2stbmFtZSB7XG4gICAgbWFyZ2luOiAwIDRweDtcbn0iXX0= */\"","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { EditorService } from '../editor.service';\nimport * as utils from '../editor.utils';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss'],\n})\nexport class FooterComponent implements OnInit {\n\n\tconstructor(private editor: EditorService) { }\n\n\tngOnInit() {\n\t}\n\n\trunningTask() { \n\t\treturn this.editor.runningTask;\n\t}\n\n\ttaskName() {\n\t\treturn this.editor.taskName;\n\t}\n\t\n\tinRepo() {\n\t\treturn utils.isRepo(this.editor.selection);\n\t}\n\n\trepoHost() {\n\t\treturn this.editor.selection.repo.host;\n\t}\n\n\trepoUrl() {\n\t\treturn this.editor.selection.repo.url;\n\t}\n\n\trepoBranch() {\n\t\treturn this.editor.selection.repo.branch;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Repo, Change } from 'src/app/models/repo';\nimport { HttpParams, HttpClient, HttpHeaders } from '@angular/common/http';\nimport { basename, requireNonNull, assert, isHome } from '../editor.utils';\nimport { LoggingService } from 'src/app/shared/services/logging.service';\nimport { Resource } from 'src/app/models/resource';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GitService {\n\n\t/** git repositories */\n\trepos: Repo[] = [];\n\trunningTask: boolean;\n\tcount: number;\n\t\n\tconstructor(private http: HttpClient, private logging: LoggingService) { }\n\n\tasync refresh() {\n\t\tlet success = false;\n\t\ttry {\n\t\t\tthis.runningTask = true;\n\t\t\tconst params = new HttpParams().set('name', 'git_changes');\n\t\t\tconst response = await this.http.get('filebrowser/option', { params: params }).toPromise();\n\t\t\tthis.repos = [];\n\t\t\tObject.keys(response).forEach(key => {\n\t\t\t\tconst data = response[key]\n\t\t\t\tthis.repos.push({\n\t\t\t\t\tname: basename(key),\n\t\t\t\t\turl: key,\n\t\t\t\t\tpath: data.path,\n\t\t\t\t\tbranch: data.branch,\n\t\t\t\t\tcount: data.changes.length,\n\t\t\t\t\tchanges: data.changes\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tthis.count = this.repos.reduce((p, c, _i, _a) => p + c.count, 0);\n\t\t\tsuccess = true;\n\t\t} catch(error) {\n\t\t\tthis.logging.error(error);\n\t\t}\n\t\tthis.runningTask = false;\n\t\treturn success;\n\t}\n\n\tasync show(item: Resource) {\n\t\tlet response: string;\n\t\tthis.runningTask = true;\n\t\ttry {\n\t\t\trequireNonNull(item, 'item');\n\t\t\tconst params = new HttpParams().set('name', 'git_show').set('path', item.path);\n\t\t\tresponse = await this.http.get('/filebrowser/option', { params: params , responseType: 'text'}).toPromise();\n\t\t} catch(error) {\n\t\t\tthis.logging.error(error);\n\t\t}\n\t\tthis.runningTask = false;\n\t\treturn response;\n\t}\n\n\tasync status(item: Repo | Change) {\n\t\tlet success = false;\n\t\tthis.runningTask = true;\n\t\ttry {\n\t\t\trequireNonNull(item, 'item');\n\t\t\tconst params = new HttpParams().set('name', 'git_status').set('path', item.path);\n\t\t\tconst response = await this.http.get('/filebrowser/option', { params: params , responseType: 'text'}).toPromise();\n\t\t\tthis.logging.info(response);\n\t\t\tsuccess = true;\n\t\t} catch(error) {\n\t\t\tthis.logging.error(error);\n\t\t}\n\t\tthis.runningTask = false;\n\t\treturn success;\n\t}\n\n\tasync add(item: Repo | Change) {\n\t\tlet success = false;\n\t\tthis.runningTask = true;\n\t\ttry {\n\t\t\trequireNonNull(item, 'item');\n\t\t\tconst params = new HttpParams().set('name', 'git_add').set('path', item.path);\n\t\t\tconst response = await this.http.get('/filebrowser/option', { params: params , responseType: 'text'}).toPromise();\n\t\t\tthis.logging.info(response);\n\t\t\tthis.refresh();\n\t\t\tsuccess = true;\n\t\t} catch(error) {\n\t\t\tthis.logging.error(error);\n\t\t}\n\t\tthis.runningTask = false;\n\t\treturn success;\n\t}\n\n\tasync checkout(item: Repo | Change) {\n\t\tthis.runningTask = true;\n\t\tlet success = false;\n\t\ttry {\n\t\t\trequireNonNull(item, 'item');\n\t\t\tconst params = new HttpParams().set('name', 'git_checkout').set('path', item.path);\n\t\t\tconst response = await this.http.get('/filebrowser/option', { params: params , responseType: 'text'}).toPromise();\n\t\t\tthis.logging.info(response);\n\t\t\tthis.refresh();\n\t\t\tsuccess = true;\n\t\t} catch(error) {\n\t\t\tthis.logging.error(error);\n\t\t}\n\t\tthis.runningTask = false;\n\t\treturn success;\n\t}\n\n\tasync commit(item: Repo | Change, commit: string) {\n\t\tlet success = false;\n\t\tthis.runningTask = true;\n\t\ttry {\n\t\t\trequireNonNull(item, 'item');\n\t\t\trequireNonNull(commit, 'commit');\n\t\t\tconst headers = new HttpHeaders().set('Content-Type', 'application/json;charset=UTF-8'); \n\t\t\tconst data = {'name': 'git_commit', 'path': item.path, commit: commit};\n\t\t\tconst response = await this.http.post('/filebrowser/option', data, { headers: headers , responseType: 'text'}).toPromise();\n\t\t\tthis.logging.info(response);\n\t\t\tthis.refresh();\n\t\t\tsuccess = true;\n\t\t} catch(error) {\n\t\t\tthis.logging.error(error);\n\t\t}\n\t\tthis.runningTask = false;\n\t\treturn success;\n\t}\n\n\tasync push(item: Repo | Change, username='', password='') {\n\t\tlet success = false;\n\t\tthis.runningTask = true;\n\t\ttry {\n\t\t\trequireNonNull(item, 'item');\n\t\t\tconst headers = new HttpHeaders().set('Content-Type', 'application/json;charset=UTF-8'); \n\t\t\tconst data = {'name': 'git_push', 'path': item.path, username: username, password: password};\n\t\t\tconst response = await this.http.post('/filebrowser/option', data, { headers: headers , responseType: 'text'}).toPromise();\n\t\t\tthis.logging.info(response);\n\t\t\tthis.refresh();\n\t\t\tsuccess = true;\n\t\t} catch(error) {\n\t\t\tthis.logging.error(error);\n\t\t}\n\t\tthis.runningTask = false;\n\t\treturn success;\n\t}\n\n\tasync pull(item: Repo | Change, username='', password='') {\n\t\tlet success = false;\n\t\tthis.runningTask = true;\n\t\ttry {\n\t\t\trequireNonNull(item, 'item');\n\t\t\tconst headers = new HttpHeaders().set('Content-Type', 'application/json;charset=UTF-8'); \n\t\t\tconst data = {'name': 'git_pull', 'path': item.path, username: username, password: password};\n\t\t\tconst response = await this.http.post('/filebrowser/option', data, { headers: headers , responseType: 'text'}).toPromise();\n\t\t\tthis.logging.info(response);\n\t\t\tsuccess = true;\n\t\t} catch(error) {\n\t\t\tthis.logging.error(error);\n\t\t}\n\t\tthis.runningTask = false;\n\t\treturn success;\n\t}\n\n\tasync clone(parent: Resource, url: string, username='', password='', destination='') {\n\t\tlet success = false;\n\t\tthis.runningTask = true;\n\t\ttry {\n\t\t\trequireNonNull(parent, 'parent');\n\t\t\trequireNonNull(url, 'url');\n\t\t\tassert(isHome(parent), 'clone operation is applicable to home only');\n\t\t\tconst headers = new HttpHeaders().set('Content-Type', 'application/json;charset=UTF-8'); \n\t\t\tconst data = {'name': 'git_clone', 'path': parent.path, url: url, username: username, password: password, destination: destination};\n\t\t\tconst response = await this.http.post('/filebrowser/option', data, { headers: headers , responseType: 'text'}).toPromise();\n\t\t\tthis.logging.info(response);\n\t\t\tsuccess = true;\n\t\t} catch(error) {\n\t\t\tthis.logging.error(error);\n\t\t\treturn false;\n\t\t}\n\t\tthis.runningTask = false;\n\t\treturn success;\n\t}\n\n}","module.exports = \"<mat-progress-bar mode=\\\"query\\\" *ngIf='runningTask()'></mat-progress-bar>\\n<mat-accordion class='accordion' multi='true'>\\n    <mat-expansion-panel class='repositories mat-elevation-z0' expanded='true'>\\n      <mat-expansion-panel-header collapsedHeight='48px' expandedHeight='48px'>\\n        <mat-panel-title>\\n          REPOSITORIES\\n        </mat-panel-title>\\n      </mat-expansion-panel-header>\\n      <ng-container *ngFor=\\\"let repo of repositories(); trackBy trackRepo\\\">\\n          <div class='line pointer' (click)='changeSelection(repo)' [matTooltip]='repo.url'> \\n              <span class='line-title' [matBadgeHidden]='repo.count === 0' [matBadge]=\\\"repo.count\\\" matBadgePosition=\\\"after\\\">{{repo.name}}</span>\\n              <div class='spacer'></div>\\n              <span class='line-subtitle'>{{repo.branch}}</span>\\n              <span [matMenuTriggerFor]=\\\"options\\\">\\n                  <i class='fas fa-ellipsis-h'></i>\\n              </span>\\n          </div>\\n          <mat-menu #options=\\\"matMenu\\\">\\n              <button mat-menu-item (click)='add(repo)'>Git add</button>\\n              <button mat-menu-item (click)='push(repo)'>Git push</button>\\n              <button mat-menu-item (click)='pull(repo)'>Git pull</button>\\n              <button mat-menu-item (click)='status(repo)'>Git status</button>\\n              <button mat-menu-item (click)='checkout(repo)'>Git checkout</button>\\n          </mat-menu>\\n      </ng-container>\\n      <br/>\\n      <button class='clone' mat-stroked-button matTooltip='Clone' (click)='clone()'>+</button>\\n    </mat-expansion-panel>\\n    <mat-divider></mat-divider>\\n    <mat-expansion-panel class='changes mat-elevation-z0' *ngIf='selection' expanded='true'>\\n        <mat-expansion-panel-header collapsedHeight='48px' expandedHeight='48px'>\\n          <mat-panel-title>\\n            CHANGES IN {{selection.name | uppercase}}\\n          </mat-panel-title>\\n        </mat-expansion-panel-header>\\n        <mat-form-field class='commit' *ngIf='selection.count > 0; else uptodate'>\\n            <input matInput placeholder=\\\"Press enter to commit\\\" (keydown)='commit($event)' [(ngModel)]='commitMessage'>\\n        </mat-form-field>\\n        <ng-template #uptodate> <span>nothing to commit, working tree clean</span> </ng-template>\\n        <ng-container *ngFor=\\\"let change of selection.changes; trackBy trackChange\\\">\\n            <div class='line' [matTooltip]=\\\"change.path\\\"> \\n                <span class='line-title' [matBadge]=\\\"change.type\\\" matBadgePosition=\\\"after\\\">{{change.name}}</span>\\n                <div class='spacer'></div>\\n                <span class='pointer' [matMenuTriggerFor]=\\\"menu\\\">\\n                  <i class='fas fa-ellipsis-h'></i>\\n                </span>\\n            </div>\\n            <mat-menu #menu=\\\"matMenu\\\">\\n              <ng-container *ngFor='let option of options'>\\n                  <button *ngIf='option.enabled(change)' (click)='option.action(change)' mat-menu-item>\\n                    {{option.label}}\\n                  </button>\\n              </ng-container>\\n            </mat-menu>\\n        </ng-container>\\n    </mat-expansion-panel>\\n</mat-accordion>\"","module.exports = \".accordion {\\n  overflow: hidden; }\\n\\n.line {\\n  display: flex;\\n  height: 32px;\\n  align-items: center;\\n  overflow: visible; }\\n\\n.line-title {\\n  font-size: 1em;\\n  margin-right: 8px; }\\n\\n.line-title .mat-badge-content {\\n    right: -24px;\\n    top: 0; }\\n\\n.line-subtitle {\\n  margin-right: 8px; }\\n\\n.commit, .clone {\\n  width: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYW1hZG91L0Rlc2t0b3AvUEwvcHJlbWllcmxhbmdhZ2UvY2xpZW50L3NyYy9hcHAvZWRpdG9yL2dpdC9naXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBZ0IsRUFDbkI7O0FBRUQ7RUFDSSxjQUFhO0VBQ2IsYUFBWTtFQUNaLG9CQUFtQjtFQUNuQixrQkFBaUIsRUFDcEI7O0FBRUQ7RUFDSSxlQUFjO0VBQ2Qsa0JBQWlCLEVBS3BCOztBQVBEO0lBSVEsYUFBWTtJQUNaLE9BQU0sRUFDVDs7QUFHTDtFQUNJLGtCQUFpQixFQUNwQjs7QUFFRDtFQUNJLFlBQVcsRUFDZCIsImZpbGUiOiJzcmMvYXBwL2VkaXRvci9naXQvZ2l0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmFjY29yZGlvbiB7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmxpbmUge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgaGVpZ2h0OiAzMnB4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG59XG5cbi5saW5lLXRpdGxlIHtcbiAgICBmb250LXNpemU6IDFlbTtcbiAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgICAubWF0LWJhZGdlLWNvbnRlbnQge1xuICAgICAgICByaWdodDogLTI0cHg7XG4gICAgICAgIHRvcDogMDtcbiAgICB9XG59XG5cbi5saW5lLXN1YnRpdGxlIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbn1cblxuLmNvbW1pdCwgLmNsb25lIHtcbiAgICB3aWR0aDogMTAwJTtcbn0iXX0= */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { EditorService } from '../editor.service';\nimport { GitService } from './git-service';\nimport { Repo, Change } from 'src/app/models/repo';\nimport { NotificationService } from 'src/app/shared/services/notification.service';\nimport { PrompField, PrompOptions } from 'src/app/shared/components/prompt/prompt.component';\n\n@Component({\n  selector: 'app-git',\n  templateUrl: './git.component.html',\n  styleUrls: ['./git.component.scss']\n})\nexport class GitComponent implements OnInit, OnDestroy {\n\n\t/** changes options */\n\treadonly options = [];\n\t/** value of commit input form */\n\tcommitMessage: string='';\n\t/** selected repository */\n\tselection: Repo;\n\n\tconstructor(private editor: EditorService, private git: GitService, private notification: NotificationService) { }\n\n\tngOnInit() {\n\t\tthis.options.push({label: 'Open file', enabled: (item: Change) => this.canOpen(item), action: (item: Change) => this.open(item)});\n\t\tthis.options.push({label: 'Git add', enabled: (item: Change) => this.canAdd(item), action: (item: Change) => this.add(item)});\n\t\tthis.options.push({label: 'Git checkout', enabled: (item: Change) => this.canCheckout(item), action: (item: Change) => this.checkout(item)});\n\t}\n\t\n\tngOnDestroy() {\n\t}\n\n\tprivate refreshSelection() {\n\t\tif (this.selection) {\n\t\t\tthis.selection = this.repositories().find(e => e.url === this.selection.url);\n\t\t}\n\t}\n\t/**\n\t * changes the selected repository.\n\t * @param item the new seleted repository.\n\t */\n\tchangeSelection(item: Repo) {\n\t\tthis.selection = item;\n\t}\n\n\t/** used inside html template with *ngFor to keep track of the repository item */\n\ttrackRepo(_index: number, item: Repo) {\n\t\treturn item.url;\n\t}\n\n\t/** used inside html template with *ngFor to keep track of the repository item */\n\ttrackChange(_index: number, item: Change) {\n\t\treturn item.path;\n\t}\n\n\t/** \n\t * gets a value indicating whether git add command can be applied to\n\t * the resource linked to the repository item.\n\t * @param item the repository item.\n\t*/\n\tcanAdd(item: Change) {\n\t\treturn item.type !== 'A';\n\t}\n\n\t/** \n\t * gets a value indicating whether git checkout command can be applied to\n\t * the resource linked to the repository item.\n\t * @param item the repository item.\n\t*/\n\tcanCheckout(item: Change) {\n\t\treturn item.type !== '??';\n\t}\n\n\t/** \n\t * gets a value indicating whether the resource linked to the repository item\n\t * can be opened by any editor.\n\t * @param item the repository item.\n\t*/\n\tcanOpen(item: Change) {\n\t\treturn !item.isdir;\n\t}\n\t\n\t/** \n\t * open the resource linked to the repository object in the editor.\n\t * @param item the repository item.\n\t*/\n\topen(item: Change) {\n\t\tthis.editor.emitSelectEvent(this.editor.find(item.path));\n\t}\n\n\t/** \n\t * gets a value indicating whether a git add command is possible in the given item\n\t *\t@param _item the repository item.\n\t */\n\tadd(_item: Repo | Change) {\n\t\treturn true;\n\t}\n\t\n\t/** \n\t * executes git push command on the given repository item \n\t *\t@param item the repository item.\n\t */\n\tpush(item: Repo | Change) {\n\t\tthis.git.push(item);\n\t}\n\t\n\t/** \n\t * executes git pull command on the given repository item after asking a confirmation.\n\t * - if the command succeed, the resources of the editor will be refreshed.\n\t *\t@param item the repository item.\n\t */\n\tpull(item: Repo | Change) {\n\t\tthis.notification.confirmAsync({\n\t\t\ttitle: 'Please confirm your action',\n\t\t\tmessage: 'You will lose the unsaved changes after this action !'\n\t\t}).then(confirmed => {\n\t\t\tif (confirmed) {\n\t\t\t\tthis.git.pull(item).then(success => {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tthis.editor.refresh().then((succees) => {\n\t\t\t\t\t\t\tif (success) {\n\t\t\t\t\t\t\t\tthis.refreshSelection();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\t/** \n\t * executes git status command on the given repository.\n\t *\t@param item the repository item.\n\t */\n\tstatus(repo: Repo | Change) {\n\t\tthis.git.status(repo);\n\t}\n\n\t/** \n\t * executes git pull command on the given repository item after asking a confirmation.\n\t *\t@param item the repository item.\n\t */\n\tcheckout(repo: Repo | Change) {\n\t\tthis.notification.confirmAsync({title: 'This action will reset all your local changes up to your last commit !'}).then(confirmed => {\n\t\t\tif (confirmed) {\n\t\t\t\tthis.git.checkout(repo).then((success) => {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tconst resource = this.editor.find(repo.path);\n\t\t\t\t\t\tif (resource) {\n\t\t\t\t\t\t\tresource.dirty = true;\n\t\t\t\t\t\t\tthis.editor.open(resource).then((opened) => {\n\t\t\t\t\t\t\t\tif (opened) {\n\t\t\t\t\t\t\t\t\tthis.editor.emitSelectEvent(resource);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.selection.changes = this.selection.changes.filter(e => e.path !== resource.path);\n\t\t\t\t\t}\n\t\t\t\t\tthis.refreshSelection();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t/** \n\t * executes git commit command on the selected repository with the\n\t * value of commit message input form if enter key is pressed.\n\t *\t@param event the keyboard event of the input.\n\t */\n\tcommit(event: KeyboardEvent) {\n\t\tif (event.keyCode === 13) {\n\t\t\tif (this.commitMessage) {\n\t\t\t\tthis.git.commit(this.selection, this.commitMessage).then((success) => {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tthis.commitMessage = '';\n\t\t\t\t\t\tthis.selection.changes = this.selection.changes.filter(e => e.type !== 'M');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.notification.error('commit message is required');\n\t\t\t}\n\t\t}\n\t}\n\n\t/** \n\t * executes git clone command.\n\t * - if the command succeed, the resources of the editor will be refreshed.\n\t */\n\tclone() {\n\t\tconst fields: PrompField[] = [\n\t\t\t{ type: 'url', placeholder: 'Url', required: true, value: '' },\n\t\t\t{ type: 'text', placeholder: 'Username', required: false, value: '' },\n\t\t\t{ type: 'password', placeholder: 'Passsword', required: false, value: '' },\n\t\t]\n\t\tconst options: PrompOptions= {\n\t\t\ttitle: 'Clone repository',\n\t\t\tfields: fields\n\t\t};\n\t\tthis.notification.warning('Please close the opened editors before submitting the form');\n\t\tthis.notification.promptAsync(options).then((response => {\n\t\t\tif (response) {\n\t\t\t\tthis.git.clone(this.editor.resources[0], response.fields[0].value,  response.fields[1].value,  response.fields[2].value)\n\t\t\t\t.then((success => {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tthis.editor.refresh();\n\t\t\t\t\t\tthis.refreshSelection();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);}\n\t\t}));\n\t}\n\n\t/** gets the repositories */\n\trepositories() {\n\t\treturn this.git.repos;\n\t}\n\n\t/** gets a value indicating whether a git command is running */\n\trunningTask() {\n\t\treturn this.git.runningTask;\n\t}\n\n}\n","module.exports = \"<div class=\\\"sidebar-panel\\\">\\n    <div class='tab-bar border-bottom'>\\n        <span>SEARCH</span>       \\n        <div class=\\\"spacer\\\"></div>\\n<!--         <div class='tab-item' (click)='changeMode(\\\"F\\\")' matTooltip='Search File'>\\n            <i class=\\\"fas fa-file\\\"></i>\\n        </div>\\n        <div class='tab-item' (click)='changeMode(\\\"T\\\")' matTooltip='Search Text'>\\n            <i class=\\\"fas fa-font\\\"></i>\\n        </div> -->\\n    </div>\\n    <div class=\\\"sidebar-panel__content\\\">\\n        <mat-form-field class='search'>\\n            <input appAutoFocus matInput placeholder=\\\"Press enter to search\\\" (keydown)='search($event)' [(ngModel)]='searchValue'>\\n        </mat-form-field>\\n        <app-explorer [resources]='result'></app-explorer>\\n    </div>\\n</div>\"","module.exports = \".sidebar-panel__content {\\n  padding: 0 8px; }\\n\\n.search {\\n  width: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYW1hZG91L0Rlc2t0b3AvUEwvcHJlbWllcmxhbmdhZ2UvY2xpZW50L3NyYy9hcHAvZWRpdG9yL3NlYXJjaC9zZWFyY2guY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxlQUFjLEVBQ2pCOztBQUVEO0VBQ0ksWUFBVyxFQUNkIiwiZmlsZSI6InNyYy9hcHAvZWRpdG9yL3NlYXJjaC9zZWFyY2guY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2lkZWJhci1wYW5lbF9fY29udGVudCB7XG4gICAgcGFkZGluZzogMCA4cHg7XG59XG5cbi5zZWFyY2gge1xuICAgIHdpZHRoOiAxMDAlO1xufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Resource } from 'src/app/models/resource';\nimport { EditorService } from '../editor.service';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss']\n})\nexport class SearchComponent implements OnInit {\n\n\t@Input()\n\tresources: Resource[] = [];\n\tresult: Resource[] = [];\n\tmode: 'F' | 'T';\n\tsearchValue: string = '';\n\n\tconstructor(private editor: EditorService) { }\n\n\tngOnInit() {\n\t}\n\n\tchangeMode(mode: 'F' | 'T') {\n\t\tthis.mode = mode;\n\t}\n\n\tsearch(event: KeyboardEvent) {\n\t\tif (event.keyCode === 13) {\n\t\t\tthis.searchValue = this.searchValue.trim().toLocaleLowerCase();\n\t\t\tif (this.searchValue) {\n\t\t\t\tthis.result = this.editor.findAll((e => {\n\t\t\t\t\treturn e.path.toLocaleLowerCase().includes(this.searchValue);\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t}\n}\n","module.exports = \"<img class='sidebar-icon' src='static/filebrowser/app/assets/icons/explorer.svg' matTooltip=\\\"Explorer\\\" (click)='didTapButton(0)'/>\\n<img class='sidebar-icon' src='static/filebrowser/app/assets/icons/search.svg' matTooltip=\\\"Search\\\" (click)='didTapButton(1)'/>\\n<div [matBadge]=\\\"gitBadge()\\\" matTooltip=\\\"Git\\\">\\n    <img class='sidebar-icon' src='static/filebrowser/app/assets/icons/git.svg' (click)='didTapButton(2)'/>\\n</div>\\n<div [matBadge]=\\\"consoleBadge()\\\" matTooltip=\\\"Console\\\">\\n    <div class='sidebar-icon'(click)='didTapButton(3)'>\\n        <i class='fas fa-info'></i>\\n    </div>\\n</div>\\n<div class='spacer'></div>\\n<!-- <img class='sidebar-icon' src='static/filebrowser/app/assets/icons/settings.svg'  matTooltip=\\\"Settings\\\" (click)='didTapButton(4)'/> -->\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  width: 50px;\\n  background: #343A40;\\n  align-items: center;\\n  padding: 8px 0; }\\n  :host .sidebar-icon {\\n    width: 36px;\\n    height: 36px;\\n    margin-bottom: 24px;\\n    cursor: pointer;\\n    overflow: visible; }\\n  :host .fas {\\n    width: 36px;\\n    height: 36px;\\n    color: white;\\n    font-size: 36px;\\n    text-align: center; }\\n  :host .mat-badge-content {\\n    z-index: 1; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYW1hZG91L0Rlc2t0b3AvUEwvcHJlbWllcmxhbmdhZ2UvY2xpZW50L3NyYy9hcHAvZWRpdG9yL3NpZGViYXIvc2lkZWJhci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQWE7RUFDYix1QkFBc0I7RUFDdEIsWUFBVztFQUNYLG9CQUFtQjtFQUNuQixvQkFBbUI7RUFDbkIsZUFBYyxFQXFCakI7RUEzQkQ7SUFTUSxZQUFXO0lBQ1gsYUFBWTtJQUNaLG9CQUFtQjtJQUNuQixnQkFBZTtJQUNmLGtCQUFpQixFQUNwQjtFQWRMO0lBaUJRLFlBQVc7SUFDWCxhQUFZO0lBQ1osYUFBWTtJQUNaLGdCQUFlO0lBQ2YsbUJBQWtCLEVBQ3JCO0VBdEJMO0lBeUJRLFdBQVUsRUFDYiIsImZpbGUiOiJzcmMvYXBwL2VkaXRvci9zaWRlYmFyL3NpZGViYXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIHdpZHRoOiA1MHB4O1xuICAgIGJhY2tncm91bmQ6ICMzNDNBNDA7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiA4cHggMDtcbiAgICBcbiAgICAuc2lkZWJhci1pY29uIHtcbiAgICAgICAgd2lkdGg6IDM2cHg7XG4gICAgICAgIGhlaWdodDogMzZweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICB9XG5cbiAgICAuZmFzIHtcbiAgICAgICAgd2lkdGg6IDM2cHg7XG4gICAgICAgIGhlaWdodDogMzZweDtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBmb250LXNpemU6IDM2cHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG5cbiAgICAubWF0LWJhZGdlLWNvbnRlbnQgIHtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICB9XG59Il19 */\"","import { Component } from '@angular/core';\nimport { GitService } from '../git/git-service';\nimport { LoggingService } from 'src/app/shared/services/logging.service';\n\n@Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.component.html',\n  styleUrls: ['./sidebar.component.scss']\n})\nexport class SidebarComponent {\n\tsize: number = 25;\n  \tindex: number = 0;\n  \n\tconstructor(private git: GitService, private logging: LoggingService) {}\n\n\tdidTapButton(index: number) {\n\t\tswitch(index) {\n\t\t\tcase 3:\n\t\t\tthis.logging.openEvent.next();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tif (index === this.index) {\n\t\t\t\tthis.size = this.size == 25 ? 0 : 25;\n\t\t\t}\n\t\t\tthis.index = index;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tgitBadge() {\n\t\treturn this.git.count;\n\t}\n\n\tconsoleBadge() {\n\t\treturn this.logging.size;;\n\t}\n}\n","import { Resource } from './resource';\nimport { canBePreviewed, language as languageOf, isRepo, isPl } from '../editor/editor.utils';\nimport { Editor } from './editor';\nimport { EditorComponent } from '../editor/editor.component';\nimport { PREMIER_LANGAGE } from '../editor/editor.config';\nimport { fadeInItems } from '@angular/material';\n\nexport class CodeEditor extends Editor {\n\t\n\tprivate compiled = [];\n\treadonly type = 'code';\n\tprivate editor: monaco.editor.IStandaloneCodeEditor;\n\tprivate diffEditor: monaco.editor.IStandaloneDiffEditor;\n\tdiffMode: boolean;\n\t\n\tconstructor(component: EditorComponent, resource: Resource) {\n\t\tsuper(component, resource);\n\t\tthis.loadOptions();\n\t}\n\t\n\tprivate loadOptions() {\n\t\tthis.options.push({\n\t\t\ticon: 'fas fa-play', tooltip: 'Preview', enabled: canBePreviewed, action: (item: Resource) => {\n\t\t\t\tthis.component.didTapPreviewResource(item);\n\t\t\t}\n\t\t});\n\t\tthis.options.push({\n\t\t\ticon: 'fas fa-eye', tooltip: 'Open Changes', enabled: (item: Resource) => this.canDiff(item), action: (item: Resource) => {\n\t\t\t\tthis.openDiffEditor();\n\t\t\t}\n\t\t});\n\t\tthis.options.push({\n\t\t\ticon: 'fas fa-eye-slash', tooltip: 'Close Changes', enabled: (item: Resource) => this.diffMode, action: (item: Resource) => {\n\t\t\t\tthis.closeDiffEditor();\n\t\t\t}\n\t\t});\n\t\tthis.options.push({\n\t\t\ticon: 'fas fa-columns', tooltip: 'Split Editor Right', enabled: () => true, action: () => {\n\t\t\t\tthis.component.editors.push(new CodeEditor(this.component, this.selection));\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate closeDiffEditor() {\n\t\tthis.diffMode = false;\n\t\tthis.editor.setValue(this.selection.content);\n\t}\n\n\tprivate openDiffEditor() {\n\t\tthis.diffMode = true;\n\t\tthis.open(this.selection);\n\t}\n\n\topen(resource: Resource) {\n\t\tconst monaco = (<any>window).monaco;\n\t\tthis.selection.state.state = this.editor.saveViewState();\n\t\tif (resource.state.model) {\n\t\t\tthis.editor.restoreViewState(resource.state.state);\n\t\t}\n\t\telse {\n\t\t\tresource.state.model = monaco.editor.createModel(resource.content, languageOf(resource), resource.path);\n\t\t}\n\t\tthis.editor.setModel(resource.state.model);\n\t\tthis.editor.updateOptions({ readOnly: !resource.write });\n\t\tif(this.diffMode) {\n\t\t\tthis.component.diff(resource).then(value => {\n\t\t\t\tconst originalModel = monaco.editor.createModel(value || '', languageOf(resource));\n\t\t\t\tthis.diffEditor.setModel({\n\t\t\t\t\toriginal: originalModel,\n\t\t\t\t\tmodified: this.editor.getModel()\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.diffEditor.getModifiedEditor().updateOptions({ readOnly: !resource.write });\n\t\t\t\tthis.diffEditor.getModifiedEditor().focus();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.editor.focus();\n\t\t}\n\t\tif (!resource.changed) {\n\t\t\tthis.changes[resource.path] = resource.content;\n\t\t}\n\t\tthis.compile(resource);\n\t\tsuper.open(resource);\n\t}\n\n\tonInit(editor: monaco.editor.IStandaloneCodeEditor) {\n\t\tthis.editor = editor;\n\t\tthis.addCommands(this.editor);\n\t\tthis.open(this.selection);\n\t\tthis.configEditor(editor);\n\t}\n\t\n\tonInitDiff(editor: monaco.editor.IStandaloneDiffEditor) {\n\t\tthis.diffEditor = editor;\n\t\tthis.addCommands(this.diffEditor.getModifiedEditor());\n\t}\n\n\tdidChange() {\n\t\tif (this.diffMode) {\n\t\t\tthis.selection.content = this.diffEditor.getModifiedEditor().getValue();\n\t\t} else {\n\t\t\tthis.selection.content = this.editor.getValue();\n\t\t}\n\t\tthis.selection.changed = this.changes[this.selection.path] !== this.selection.content;\n\t}\n\t\n\tcanOpen(resource: Resource) {\n\t\treturn !resource.image;\n\t}\n\n\tcanDiff(resource: Resource) {\n\t\treturn isRepo(resource) && !this.diffMode;\n\t}\n\n\tonSaved(resource: Resource) {\n\t\tthis.compile(resource);\n\t}\n\n\tprivate compile(resource: Resource) {\n\t\tif (isPl(resource)) {\n\t\t\tthis.component.editorService.compilePL(resource).then((response => {\n\t\t\t\tif (response['compiled']) {\n\t\t\t\t\tthis.compiled[resource.path] = response['json'];\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tonClosed(resource: Resource) {\n\t\tresource.changed = false;\n\t\tresource.content = this.changes[resource.path];\n\t\tdelete this.changes[resource.path];\n\t\tdelete this.compiled[resource.path];\n\t}\n\n\taddCommands(editor: monaco.editor.IStandaloneCodeEditor) {\n\t\tconst self = this;\n\t\teditor.onDidChangeModelContent(() => {\n\t\t\tself.didChange();\n\t\t});\n\t\teditor.addCommand(monaco.KeyMod.WinCtrl | monaco.KeyCode.KEY_S, () => {\n\t\t\tself.save(this.selection);\n\t\t}, '');\n\n\t\teditor.addCommand(monaco.KeyMod.WinCtrl | monaco.KeyMod.Alt | monaco.KeyCode.KEY_S, () => {\n\t\t\tself.saveAll();\n\t\t}, '');\n\n\t\teditor.addCommand(monaco.KeyMod.WinCtrl | monaco.KeyCode.KEY_W, () => {\n\t\t\tself.closeConfirm(this.selection);\n\t\t}, '');\n\n\t\teditor.addCommand(monaco.KeyMod.WinCtrl | monaco.KeyMod.Alt | monaco.KeyCode.KEY_W, () => {\n\t\t\tself.closeAllConfirm();\n\t\t}, '');\n\t}\n\t\n\tconfigEditor(editor: monaco.editor.IStandaloneCodeEditor | monaco.editor.IStandaloneDiffEditor) {\n\t\tconst self = this;\n\t\tconst REFERENCE_PATTERN = /(@|(template|grader|builder|extends|builder|grader)\\s*=)\\s*(\\w+:\\/)?([~a-zA-Z0-9_\\.\\/]+)/;\n\t\tconst OPEN_PATTERN = /^[a-zA-Z_](\\.?\\w+)*(==)|(%=)/;\n\t\tconst CLOSE_PATTERN = /^==\\s*$/;\n\t\tconst BUILT_IN_WORDS = {\n\t\t  title: \"Titre de l'exercice/feuille d'exercice\",\n\t\t  author: \"Auteur de l'exercice\",\n\t\t  introduction: \"Prsentation de la feuille d'exercice, le contenu de cette cl est interprt comme du markdown.\",\n\t\t  teacher: \"Sur un PLTP, affiche un note visible par les enseignant seulement\",\n\t\t  text: \"nonc de l'exercice, le contenu de cette cl est interprt comme du markdown.\",\n\t\t  build: \"Cl contenant une fonction build (ancienne syntaxe: utiliser de prfrence before),  utiliser avec le builder /builder/build.py\",\n\t\t  before: \"Code python permettant de modifier l'exercice avant sont excution sur le navigateur\",\n\t\t  form: \"Formulaire HTML permettant  l'lve de rpondre\",\n\t\t  template: \"Dfinie template comme tant la base de ce fichier\",\n\t\t};\n\n\t\t/*monaco.languages.registerLinkProvider(PREMIER_LANGAGE, {\n\t\t\tprovideLinks: function(model, _token) {\n\t\t\t\tlet links = [];\n\t\t\t\tconst lines = model.getValue().split('\\n');\n\t\t\t\tlet match;\n\t\t\t\tfor (let i = 0; i < lines.length; i++) {\n\t\t\t\t\tif (lines[i].trim().endsWith('==')) {\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\twhile (i < lines.length) {\n\t\t\t\t\t\t\tif (lines[i].trim().endsWith('==')) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tmatch = REFERENCE_PATTERN.exec(lines[i]);\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\tconst url = match[match.length - 1];\n\t\t\t\t\t\tconst index =  match.index + match.input.length - url.length;\n\t\t\t\t\t\tconst range = new monaco.Range(i + 1, index, i + 1, index + url.length + 1);\n\t\t\t\t\t\t\n\t\t\t\t\t\tlinks.push({\n\t\t\t\t\t\t\trange: range,\n\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t}); \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn links;\n\t\t\t}, \n\t\t\tresolveLink: function(link, _token) {\n\t\t\t\tconsole.log(link)\n\t\t\t\treturn link;\n\t\t\t}\n\t\t}); \n\t\t*/\n\n\t\tmonaco.languages.registerCodeLensProvider(PREMIER_LANGAGE, {\n\t\t\tprovideCodeLenses: function(model, _token) {\n\t\t\t\tlet links = [];\n\t\t\t\tconst lines: string[] = model.getValue().split('\\n');\n\t\t\t\tlet match: RegExpExecArray;\n\t\t\t\tfor (let i = 0; i < lines.length; i++) {\n\t\t\t\t\tif (lines[i].match(OPEN_PATTERN)) {\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\twhile (i < lines.length) {\n\t\t\t\t\t\t\tif (lines[i].match(CLOSE_PATTERN)) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\t\n\t\t\t\t\tmatch = REFERENCE_PATTERN.exec(lines[i]);\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\tconst url = match[match.length - 1];\n\t\t\t\t\t\tlet index =  match.index + match.input.length - url.length;\n\t\t\t\t\t\tconst range = new monaco.Range(i + 1, index, i + 1, index + url.length + 1);\n\t\t\t\t\t\tlet comment = false;\n\t\t\t\t\t\twhile (index >= 0) {\n\t\t\t\t\t\t\tif (lines[i][index] == \"#\") {\n\t\t\t\t\t\t\t\tcomment = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tindex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!comment) {\n\t\t\t\t\t\t\tlinks.push({\n\t\t\t\t\t\t\t\trange: range,\n\t\t\t\t\t\t\t\tid: 'Open',\n\t\t\t\t\t\t\t\tcommand: {\n\t\t\t\t\t\t\t\t\tid: editor.addCommand(0, function() {\n\t\t\t\t\t\t\t\t\t\tself.component.findReference(self.selection, url).then((reference => {\n\t\t\t\t\t\t\t\t\t\t\tif (reference) {\n\t\t\t\t\t\t\t\t\t\t\t\tself.component.open(reference);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t}, ''),\n\t\t\t\t\t\t\t\t\ttitle: 'Open',\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}); \n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn links;\n\t\t\t}\n\t\t});\n\t\t\n\t\tmonaco.languages.registerFoldingRangeProvider(PREMIER_LANGAGE, {\n\t\t\tprovideFoldingRanges: function(model) {\n\t\t\tconst ranges = [];\n\t\t\tconst lines: string[] = model.getValue().split('\\n');\n\t\t\tconst length = lines.length;\n\t\t\tlet i = 0, start = -1;\n\t\t\twhile (i < length) {\n\t\t\t\tif (lines[i].match(OPEN_PATTERN)) {\n\t\t\t\t\tstart = i;\n\t\t\t\t} else if(lines[i].match(CLOSE_PATTERN)) {\n\t\t\t\t\t\tranges.push({\n\t\t\t\t\t\t\tstart: start + 1,\n\t\t\t\t\t\t\tend: i + 1,\n\t\t\t\t\t\t\tkind: monaco.languages.FoldingRangeKind.Region\n\t\t\t\t\t\t});\n\t\t\t\t\tstart = -1;\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t\treturn ranges;\n\t\t\t}\n\t\t});\n\t\n\t\tmonaco.languages.registerHoverProvider(PREMIER_LANGAGE, {\n\t\t\tprovideHover: function(model, position) {\n\t\t\t\tconst lineContent = model.getLineContent(position.lineNumber);\n\t\t\t\tconst token = model.getWordAtPosition(position);\n\t\t\t\tif (token) {\n\t\t\t\t\tconst keys = self.getKeys();\n\t\t\t\t\tconst k = keys.find(e => e === token.word);\n\t\t\t\t\tif (k) {\n\t\t\t\t\t\tconst i = token.startColumn - 2;\n\t\t\t\t\t\tif (i > 0 && lineContent[i] == '{' && i - 1 >= 0 && lineContent[i-1] == '{') {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\trange: new monaco.Range(1, 1, 3, 10),\n\t\t\t\t\t\t\t\tcontents: [\n\t\t\t\t\t\t\t\t\t{ value: k },\n\t\t\t\t\t\t\t\t\t{ value: self.getValue(k) }\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\tif (token.word in BUILT_IN_WORDS) {\n\t\t\t\t\t\tconst lineCount = model.getLineCount();\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\trange: new monaco.Range(1, 1, 3, model.getLineMaxColumn(lineCount)),\n\t\t\t\t\t\t\tcontents: [\n\t\t\t\t\t\t\t\t{ value: '**PL BUILT-IN**' },\n\t\t\t\t\t\t\t\t{ value: BUILT_IN_WORDS[token.word] }\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\tmonaco.languages.registerCompletionItemProvider(PREMIER_LANGAGE, {\n\t\t\tprovideCompletionItems: (model, position) => {\n\t\t\t\tconst line = model.getLineContent(position.lineNumber);\n\t\t\t\tif (line.includes('{{')) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t\treturn Object.keys(BUILT_IN_WORDS).map(name => ({\n\t\t\t\t\tlabel: name,\n\t\t\t\t\tdetail: BUILT_IN_WORDS[name],\n\t\t\t\t\tinsertText: name + '== #|python| \\n\\n==',\n\t\t\t\t\tkind: monaco.languages.CompletionItemKind.Snippet,\n\t\t\t\t}));\n\t\t\t},\n\t\t}); \n\n\t\tmonaco.languages.registerCompletionItemProvider(PREMIER_LANGAGE, {\n\t\t\ttriggerCharacters: ['{{'],\n\t\t\tprovideCompletionItems: function(model, position) {\n\t\t\t\tconst line = model.getLineContent(position.lineNumber);\n\t\t\t\tif (!line.includes('{{')) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t\tconst items: monaco.languages.CompletionItem[] = [];\n\t\t\t\tconst keys = self.getKeys();\n\t\t\t\tif (keys.length > 0) {\n\t\t\t\t\tkeys.forEach(k => {\n\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\tlabel: k,\n\t\t\t\t\t\t\tdetail: '{{' + k + '}}',\n\t\t\t\t\t\t\tinsertText: k + '}}',\n\t\t\t\t\t\t\tkind: monaco.languages.CompletionItemKind.Reference\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn items;\n\t\t\t}\n\t\t});\n\t\teditor.createContextKey('', {})\n\t}\n\n\tprivate getValue(k: string) {\n\t\tconst object = this.compiled[this.selection.path];\n\t\tif (object) {\n\t\t\treturn object[k];\n\t\t}\n\t\treturn '';\n\t}\n\n\tprivate getKeys() {\n\t\tconst object = this.compiled[this.selection.path];\n\t\tif (object) {\n\t\t\treturn Object.keys(object).filter(k => !k.startsWith('__'));\n\t\t}\n\t\treturn [];\n\t}\n}\n","import { Resource, resourceInit as resourceDefaultState } from './resource';\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport { EditorComponent } from '../editor/editor.component';\nexport abstract class Editor {\n\treadonly changes = {};\n\treadonly type: string;\n\treadonly resources: Resource[] = [];\n\treadonly options = [];\n\treadonly component: EditorComponent;\n\tselection: Resource;\n\t\n\tconstructor(component: EditorComponent, resource: Resource) {\n\t\tthis.selection = resource;\n\t\tthis.component = component;\n\t}\n\t\n\tabstract canOpen(resource: Resource): boolean;\n\t\n\tclose(resource: Resource) {\n\t\tlet index = this.resources.findIndex(e => e.path === resource.path);\n\t\tif (index == -1) {\n\t\t\tthrow new Error('undefined resource in the editor');\n\t\t}\n\t\tthis.selection = undefined;\n\t\tthis.resources.splice(index, 1);\n\t\tindex = Math.max(0, index - 1);\n\t\tif (index < this.resources.length) {\n\t\t\tthis.selection = this.resources[index];\n\t\t}\n\t\tif (this.selection) {\n\t\t\tthis.open(this.selection);\n\t\t}\n\t\tif (this.component.editors.findIndex(e => e.contains(resource)) == -1) {\n\t\t\tresourceDefaultState(resource);\n\t\t}\n\t\tif (this.isEmpty()) {\n\t\t\tthis.component.editors.splice(this.component.editors.findIndex(e => e === this), 1);\n\t\t}\n\t\tthis.component.detectChanges();\n\t\tthis.onClosed(resource);\n\t}\n\n\tcloseConfirm(resource: Resource) {\n\t\tif (resource.changed) {\n\t\t\tconst options = {\n\t\t\t\ttitle: \"Do you want to close'\" + resource.name + \"'?\",\n\t\t\t\tmessage: \"Your changes will be lost if you don't save them.\",\n\t\t\t}\n\t\t\tthis.component.confirm(options).then((confirmed) => {\n\t\t\t\tif (confirmed) {\n\t\t\t\t\tthis.close(this.selection);\n\t\t\t\t}\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.close(this.selection);\n\t\t}\n\t}\n\t\n\tcloseAll() {\n\t\twhile (this.resources.length > 0) {\n\t\t\tthis.close(this.resources[0]);\n\t\t}\n\t}\n\t\n\tcloseAllConfirm() {\n\t\tif (this.resources.some(e => e.changed)) {\n\t\t\tconst options = {\n\t\t\t\ttitle: \"Do you want to close the files ?\",\n\t\t\t\tmessage: \"Your changes will be lost if you don't save them.\",\n\t\t\t}\n\t\t\tthis.component.confirm(options).then(confirmed => {\n\t\t\t\tif (confirmed) {\n\t\t\t\t\tthis.closeAll();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.closeAll();\n\t\t}\n\t}\n\n\tcloseSaved() {\n\t\twhile (this.resources.some(e => !e.changed)) {\n\t\t\tfor (let i = 0; i < this.resources.length; i++) {\n\t\t\t\tif (!this.resources[i].changed) {\n\t\t\t\t\tthis.close(this.resources[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tsave(resource: Resource) {\n\t\tif (resource.changed) {\n\t\t\tresource.changed = false;\n\t\t\tthis.component.save(resource).then((success => {\n\t\t\t\tthis.changes[resource.path] = resource.content;\n\t\t\t\tif (success) {\n\t\t\t\t\tthis.onSaved(resource);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tsaveAll() {\n\t\tfor (const resource of this.resources) {\n\t\t\tthis.save(resource);\n\t\t}\n\t}\n\n\tcontains(resource: Resource) {\n\t\treturn this.resources.findIndex(item => item.path === resource.path) != -1;\n\t}\n\n\tdrop(event: CdkDragDrop<Resource[]>) {\n\t\tif (event.previousContainer === event.container) {\n\t\t\tmoveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n\t\t}\n\t\telse {\n\t\t\ttransferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\n\t\t}\n\t}\n\n\tisEmpty() {\n\t\treturn this.resources.length === 0;\n\t}\n\n\tisSelected(resource: Resource) {\n\t\treturn resource.path === this.selection.path;\n\t}\n\n\topen(resource: Resource) {\n\t\tif (!this.contains(resource)) {\n\t\t\tthis.resources.push(resource);\n\t\t}\n\t\tthis.selection = resource;\n\t\tthis.component.detectChanges();\n\t}\n\n\ttitle(resource: Resource) {\n\t\treturn resource.name;\n\t}\n\n\tlength() {\n\t\treturn this.resources.length;\n\t}\n\n\ttrack(_index: number, item: Resource) {\n\t\treturn item.path;\n\t}\n\n\tonSaved(resource: Resource) {}\n\tonClosed(resource: Resource) {}\n}\n","import { Resource } from './resource';\nimport { Editor } from './editor';\nimport { EditorComponent } from '../editor/editor.component';\nexport class ImageEditor extends Editor {\n\treadonly type = 'image';\n\tzoom = 0.5;\n\tconstructor(component: EditorComponent, resource: Resource) {\n\t\tsuper(component, resource);\n\t\tthis.open(resource);\n\t}\n\tzoomIn() {\n\t\tthis.zoom = Math.min(this.zoom + .05, 1);\n\t}\n\tzoomOut() {\n\t\tthis.zoom = Math.max(this.zoom - .05, 0.3);\n\t}\n\tcanOpen(resource: Resource) {\n\t\treturn resource.image !== undefined;\n\t}\n}\n","import { Resource } from './resource';\nimport { Editor } from './editor';\nexport class PreviewEditor extends Editor {\n\treadonly type = 'preview';\n\tcanOpen(resource: Resource): boolean {\n\t\treturn resource.state.preview !== undefined;\n\t}\n\tcontent() {\n\t\treturn this.selection.state.preview;\n\t}\n\ttitle(resource: Resource) {\n\t\treturn 'Preview ' + resource.name;\n\t}\n\topen(resource: Resource) {\n\t\tif (this.resources.length === 0)\n\t\t\tthis.resources.push(resource);\n\t\tthis.resources[0] = resource;\n\t\tthis.selection = resource;\n\t}\n}\n","export interface Resource {\n    nameBeforeEdition: string;\n    parentRef: Resource;\n    state: {\n        model: any;\n        state: any;\n        preview: string\n    }\n    name: string;\n    path: string;\n    parent: string;\n    type: string;\n    icon: string;\n    content: string;\n    image: string;\n    editing: boolean;\n    changed: boolean;\n    dirty: boolean;\n    write: boolean;\n    read: boolean;\n    expanded: boolean;\n    children: Resource[];\n    repo: {\n        url: string,\n        branch: string,\n        host: string\n    }\n}\n\nexport function resourceInit(resource: Resource) {\n    if (resource.state && resource.state.model)\n        resource.state.model.dispose();\n\n    resource.state = {\n        model: undefined,\n        state: undefined,\n        preview: undefined,\n    }\n}\n\n","module.exports = \"<h4 mat-dialog-title>{{data?.title}}</h4>\\n<p mat-dialog-content>{{data?.message}}</p>\\n<div mat-dialog-actions>\\n    <button mat-button [mat-dialog-close]=\\\"true\\\">{{data?.okTitle}}</button>\\n    <button mat-button [mat-dialog-close]=\\\"false\\\">{{data?.noTitle}}</button>\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2NvbmZpcm0vY29uZmlybS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, Inject, ChangeDetectorRef } from \"@angular/core\";\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material\";\n\n@Component({\n    selector: 'app-confirm',\n    templateUrl: './confirm.component.html',\n    styleUrls: ['./confirm.component.scss']\n})\nexport class ConfirmComponent {\n    constructor(public dialog: MatDialogRef<ConfirmComponent>, @Inject(MAT_DIALOG_DATA) public data: ConfirmOptions, changes: ChangeDetectorRef) {     \n        data.okTitle = data.okTitle || 'OK';\n        data.noTitle = data.noTitle || 'CANCEL';\n        setTimeout(function() {\n            changes.detectChanges();\n        }, 1);\n    }\n}\n\nexport interface ConfirmOptions {\n    title?: string;\n    message?: string;\n    okTitle?: string;\n    noTitle?: string;\n}","module.exports = \"<div class='empty_state'>\\n    <mat-icon *ngIf='icon != undefined'>{{icon}}</mat-icon>\\n    <h2 class='empty_state__title'>{{title}}</h2>\\n    <h4 class='empty_state__subtitle'*ngIf='subtitle != undefined'>{{subtitle}}</h4>\\n</div>\"","module.exports = \".empty_state {\\n  pointer-events: none;\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%);\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center; }\\n\\n.empty_state mat-icon {\\n  width: 64px;\\n  height: 64px;\\n  font-size: 64px; }\\n\\n.empty_state__title {\\n  font-size: 24px;\\n  text-align: center; }\\n\\n.empty_state__subtitle {\\n  font-size: 16px;\\n  max-width: 600px;\\n  margin: 8px;\\n  text-align: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYW1hZG91L0Rlc2t0b3AvUEwvcHJlbWllcmxhbmdhZ2UvY2xpZW50L3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZW1wdHktc3RhdGUvZW1wdHktc3RhdGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxxQkFBb0I7RUFDdkIsbUJBQWtCO0VBQ2YsVUFBUztFQUNULFNBQVE7RUFDUix5Q0FBK0I7VUFBL0IsaUNBQStCO0VBQy9CLGNBQWE7RUFDYix1QkFBc0I7RUFDdEIsb0JBQW1CO0VBQ25CLHdCQUF1QixFQUMxQjs7QUFHRDtFQUNJLFlBQVc7RUFDWCxhQUFZO0VBQ1osZ0JBQWUsRUFFbEI7O0FBRUQ7RUFDSSxnQkFBZTtFQUNmLG1CQUFrQixFQUNyQjs7QUFFRDtFQUNJLGdCQUFlO0VBQ2YsaUJBQWdCO0VBQ2hCLFlBQVc7RUFDWCxtQkFBa0IsRUFDckIiLCJmaWxlIjoic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbXB0eS1zdGF0ZS9lbXB0eS1zdGF0ZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5lbXB0eV9zdGF0ZSB7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdG9wOiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtNTAlKTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuICBcbi5lbXB0eV9zdGF0ZSBtYXQtaWNvbiB7XG4gICAgd2lkdGg6IDY0cHg7XG4gICAgaGVpZ2h0OiA2NHB4O1xuICAgIGZvbnQtc2l6ZTogNjRweDtcbiAgIC8vIGNvbG9yOiAjRTA1MDU3O1xufVxuXG4uZW1wdHlfc3RhdGVfX3RpdGxlIHtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uZW1wdHlfc3RhdGVfX3N1YnRpdGxlIHtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICBtYXJnaW46IDhweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */\"","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-empty-state',\n  templateUrl: './empty-state.component.html',\n  styleUrls: ['./empty-state.component.scss']\n})\nexport class EmptyStateComponent {\n\t@Input() public title: string;\n\t@Input() public subtitle: string;\n  @Input() public icon: string;\n}\n","module.exports = \"<h4 mat-dialog-title>{{data?.title}}</h4>\\n<div mat-dialog-content>\\n\\t<p [innerHTML]='data?.message'></p>\\n\\t<form>\\n\\t\\t<mat-form-field class='full-width' *ngFor='let field of data.fields'>\\n\\t\\t\\t<input matInput name='field.value' autocomplete=\\\"off\\\" [type]='field.type' [placeholder]=\\\"field?.placeholder\\\" [(ngModel)]='field.value' >\\n\\t\\t</mat-form-field>\\n\\t</form>\\n</div>\\n\\n<div mat-dialog-actions>\\n    <button mat-button [mat-dialog-close]=\\\"data\\\">{{data.okTitle}}</button>\\n    <button mat-button [mat-dialog-close]=\\\"false\\\">{{data.noTitle}}</button>\\n</div>\"","module.exports = \"form {\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 300px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYW1hZG91L0Rlc2t0b3AvUEwvcHJlbWllcmxhbmdhZ2UvY2xpZW50L3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvcHJvbXB0L3Byb21wdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQWE7RUFDYix1QkFBc0I7RUFDdEIsaUJBQWdCLEVBQ25CIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvcHJvbXB0L3Byb21wdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImZvcm0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBtaW4td2lkdGg6IDMwMHB4O1xufSAiXX0= */\"","import { Component, Inject } from \"@angular/core\";\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material\";\n\n@Component({\n    selector: 'app-prompt',\n    templateUrl: './prompt.component.html',\n    styleUrls: ['./prompt.component.scss']\n  })\nexport class PromptComponent {\n    constructor(public dialog: MatDialogRef<PromptComponent>, @Inject(MAT_DIALOG_DATA) public data: PrompOptions) {     \n        data.okTitle = data.okTitle || 'OK';\n        data.noTitle = data.noTitle || 'CANCEL';\n    }\n}\nexport interface PrompField {\n    type: string;\n    placeholder: string;\n    required: boolean;\n    value: any;\n}\n\nexport interface PrompOptions {\n    title?: string;\n    message?: string;\n    okTitle?: string;\n    noTitle?: string;\n    fields: PrompField[]\n}","import { AfterContentInit, Directive, ElementRef  } from '@angular/core';\n\n@Directive({\n    selector: '[appAutofocus]'\n})\nexport class AutofocusDirective implements AfterContentInit {\n    public constructor(private el: ElementRef) {\n    }\n\n    public ngAfterContentInit() {\n        setTimeout(() => {\n            this.el.nativeElement.focus();\n        }, 500);\n    }\n\n}\n","import { AfterContentInit, Directive, ElementRef, Input } from '@angular/core';\n\n@Directive({\n    selector: '[appDraggable]'\n})\nexport class DraggableDirective implements AfterContentInit {\n    @Input('dragCondition')\n    dragCondition: boolean = true;\n    \n    public constructor(private el: ElementRef) {\n    }\n\n    public ngAfterContentInit() {\n        const self = this;\n        const el = this.el.nativeElement;\n        el.draggable = true;\n          \n        el.addEventListener(\n          'dragstart',\n          function(e) {\n            if (!self.dragCondition) {\n              e.preventDefault();\n              return;\n            } \n            e.dataTransfer.effectAllowed = 'move';\n            e.dataTransfer.setData('Text', this.id);\n            this.classList.add('dnd-drag');\n            return false;\n          },\n          false\n        );\n        \n        el.addEventListener(\n          'dragend',\n          function(e) {\n            this.classList.remove('dnd-drag');\n            return false;\n          },\n          false\n        );\n    }\n}","import { AfterContentInit, Directive, ElementRef, EventEmitter, Output, Input } from '@angular/core';\n\n@Directive({\n  selector: '[appDroppable]'\n})\nexport class DroppableDirective implements AfterContentInit {\n\t@Input('dropCondition')\n\tdropCondition: boolean = true;\t\n\t@Output('handleDrop')\n\thandDrop: EventEmitter<DropData> = new EventEmitter();\n\n\tpublic constructor(private el: ElementRef) {\n\t}\n\n\tpublic ngAfterContentInit() {\n\t\tif (!this.dropCondition)\n\t\t\treturn;\n\t\t\n\t\tconst self = this;\n\t\tconst el = this.el.nativeElement;\n\t\tel.draggable = true;\n\t\n\t\tel.addEventListener('dragover', function(e: DragEvent) {\n\t\t\te.dataTransfer.dropEffect = 'move';\n\t\t\tif (e.preventDefault) e.preventDefault();\n\t\t\tthis.classList.add('dnd-over');\n\t\t\treturn false;\n\t\t}, false);\n\t\t\t\n\t\tel.addEventListener('dragenter', function(e: DragEvent) {\n\t\t\tthis.classList.add('dnd-over');\n\t\t\treturn false;\n\t\t}, false);\n\t\t\t\n\t\tel.addEventListener('dragleave', function(e: DragEvent) {\n\t\t\tthis.classList.remove('dnd-over');\n\t\t\treturn false;\n\t\t}, false);\n\t\t\t\n\t\tel.addEventListener('drop', function(e: DragEvent) {\n\t\t\te.preventDefault();\n\t\t\tlet file: File;\n\t\t\tif (e.dataTransfer.items.length > 0) {\n\t\t\t\tfor (let i = 0; i < e.dataTransfer.items.length; i++) {\n\t\t\t\t\tconst item = e.dataTransfer.items[i];\n\t\t\t\t\tif (item.kind === 'file') {\n\t\t\t\t\t\tfile = item.getAsFile();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (e.dataTransfer.files.length > 0) {\n\t\t\t\tfile = e.dataTransfer.files[0];\n\t\t\t}\n\n\t\t\tif (e.stopPropagation) e.stopPropagation();\n\t\t\t\n\t\t\tthis.classList.remove('dnd-over');\n\t\n\t\t\tconst destination = this.id;\n\t\t\tconst source = e.dataTransfer.getData('Text');\n\t\t\tif (source || file) {\n\t\t\t\tself.handDrop.emit({src: source, file: file, dst: destination})\n\t\t\t}\n\t\t\treturn false;\n\t\t}, false);\n  \t}\n}\n\n/** Representation of a data shared with a drag and drop action.  */\nexport interface DropData {\n\t/** the id of the source node in the dom */\n\tsrc?: string,\n\t/** the id of the destination node in the dom */\n\tdst?: string,\n\t/** the file dragged from the file system  */\n\tfile: File\n}","import { Directive, ElementRef, OnInit } from '@angular/core';\n\n@Directive({ selector: '[runScripts]', exportAs: 'runScripts' })\nexport class RunScriptsDirective implements OnInit {\n    constructor(private elementRef: ElementRef) { }\n    ngOnInit(): void {\n        setTimeout(() => { // wait for DOM rendering\n            this.reinsertScripts();\n        });\n    }\n    reinsertScripts(): void {\n        const scripts = <HTMLScriptElement[]>this.elementRef.nativeElement.getElementsByTagName('script');\n        const scriptsInitialLength = scripts.length;\n        for (let i = 0; i < scriptsInitialLength; i++) {\n            const script = scripts[i];\n            const scriptCopy = <HTMLScriptElement>document.createElement('script');\n            scriptCopy.type = script.type ? script.type : 'text/javascript';\n            if (script.innerHTML) {\n                scriptCopy.innerHTML = script.innerHTML;\n            } else if (script.src) {\n                scriptCopy.src = script.src;\n            }\n            scriptCopy.async = false;\n            script.parentNode.replaceChild(scriptCopy, script);\n        }\n    }\n}","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n@Pipe({name: 'sanitizeHtml'})\nexport class SanitizeHtmlPipe implements PipeTransform {\n  constructor(private _sanitizer:DomSanitizer) {\n  }\n  transform(v:string):SafeHtml {\n    return this._sanitizer.bypassSecurityTrustHtml(v);\n  }\n}","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoggingService {\n\treadonly addEvent: Subject<LogItem> = new Subject();\n\treadonly openEvent: Subject<any> = new Subject();\n\n\t_size: number = 0;\n\tconstructor() { }\n\n\tprivate message(message: any, type: 'info' | 'error' | 'warning') {\n\t\tlet msg = message;\n\t\tif (typeof message !== 'string') {\n\t\t\tmsg = message.error;\n\t\t\tif (!msg) {\n\t\t\t\tif (message.stack) {\n\t\t\t\t\tmsg = message.stack.split('\\n').join('<br/>')\n\t\t\t\t} else {\n\t\t\t\t\tmsg = JSON.stringify(message);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst item = { message: msg, type: type };\n\t\tthis.addEvent.next(item);\n\t\tthis._size++;\n\t}\n\n\tinfo(message: any) {\n\t\tthis.message(message, 'info');\n\t}\n\n\twarning(message: any) {\n\t\tthis.message(message, 'warning');\n\t}\n\n\terror(message: any) {\n\t\tthis.message(message, 'error');\n\t}\n\n\tclear() {\n\t\tthis._size = 0;\n\t}\n\n\tget size() {\n\t\treturn this._size;\n\t}\n\n}\n\nexport interface LogItem {\n\tmessage: string,\n\ttype: 'error' | 'info' | 'warning';\n}","import { Injectable } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subscription } from 'rxjs';\nimport { MatDialogRef, MatDialog } from '@angular/material';\nimport { PromptComponent, PrompOptions } from '../components/prompt/prompt.component';\nimport { ConfirmComponent, ConfirmOptions } from '../components/confirm/confirm.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotificationService {\n\n\tconstructor(private toastr: ToastrService, private dialog: MatDialog) { }\n\n\tsuccess(message: string, title: string='') {\n\t\tthis.toastr.success(message, title, {\n\t\t\tenableHtml: true,\n\t\t\tonActivateTick: true,\n\t\t});\n\t}\n\n\twarning(message: string, title: string='') {\n\t\tthis.toastr.warning(message, title, {\n\t\t\tenableHtml: true,\n\t\t\tonActivateTick: true,\n\t\t});\n\t}\n\n\terror(message: string, title: string='') {\n\t\tthis.toastr.error(message, title, {\n\t\t\tenableHtml: true,\n\t\t\tonActivateTick: true,\n\t\t});\n\t}\n\n    prompt(options: PrompOptions, completion: (value: boolean | PrompOptions) => void) {\n        this.promptAsync(options).then((data) => {\n            completion(data);\n        });\n    }\n\n    promptAsync(options: PrompOptions) {   \n        const ref: MatDialogRef<PromptComponent, PrompOptions> = this.dialog.open(PromptComponent, {\n            hasBackdrop: true,\n            disableClose : true,\n\t\t\tdata: options,\n        });      \n        return new Promise<PrompOptions>(resolve => {\n            let subscription: Subscription;\n            subscription = ref.afterClosed().subscribe(value => {\n                subscription.unsubscribe();\n                resolve(value);\n            });\n        });\n    }\n\n    confirm(options: ConfirmOptions, confirm: () => void, cancel?: () => void) {\n        this.confirmAsync(options).then((success) => {\n            if (success && confirm) {\n                confirm();\n            } else if(!success && cancel) {\n                cancel();\n            }\n        });\n    }\n\n\n    confirmAsync(options: ConfirmOptions) {\n        const ref: MatDialogRef<ConfirmComponent, boolean> = this.dialog.open(ConfirmComponent, {\n            hasBackdrop: true,\n            disableClose : true,\n            data: options,\n            autoFocus: false,\n            minWidth: '400px',\n            minHeight: '100px'\n        });\n        return new Promise<boolean>((resolve) => {\n            let subscription: Subscription;\n            subscription = ref.afterClosed().subscribe(value => {\n                subscription.unsubscribe();\n                resolve(value);\n            });\n        });\n    }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\nimport 'hammerjs';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}